(()=>{var ze={17187:w=>{"use strict";var m=typeof Reflect=="object"?Reflect:null,v=m&&typeof m.apply=="function"?m.apply:function(i,u,f){return Function.prototype.apply.call(i,u,f)},x;m&&typeof m.ownKeys=="function"?x=m.ownKeys:Object.getOwnPropertySymbols?x=function(i){return Object.getOwnPropertyNames(i).concat(Object.getOwnPropertySymbols(i))}:x=function(i){return Object.getOwnPropertyNames(i)};function W(n){console&&console.warn&&console.warn(n)}var F=Number.isNaN||function(i){return i!==i};function d(){d.init.call(this)}w.exports=d,w.exports.once=$,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._eventsCount=0,d.prototype._maxListeners=void 0;var G=10;function N(n){if(typeof n!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n)}Object.defineProperty(d,"defaultMaxListeners",{enumerable:!0,get:function(){return G},set:function(n){if(typeof n!="number"||n<0||F(n))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+n+".");G=n}}),d.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},d.prototype.setMaxListeners=function(i){if(typeof i!="number"||i<0||F(i))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+i+".");return this._maxListeners=i,this};function k(n){return n._maxListeners===void 0?d.defaultMaxListeners:n._maxListeners}d.prototype.getMaxListeners=function(){return k(this)},d.prototype.emit=function(i){for(var u=[],f=1;f<arguments.length;f++)u.push(arguments[f]);var o=i==="error",l=this._events;if(l!==void 0)o=o&&l.error===void 0;else if(!o)return!1;if(o){var c;if(u.length>0&&(c=u[0]),c instanceof Error)throw c;var h=new Error("Unhandled error."+(c?" ("+c.message+")":""));throw h.context=c,h}var y=l[i];if(y===void 0)return!1;if(typeof y=="function")v(y,this,u);else for(var P=y.length,_=S(y,P),f=0;f<P;++f)v(_[f],this,u);return!0};function C(n,i,u,f){var o,l,c;if(N(u),l=n._events,l===void 0?(l=n._events=Object.create(null),n._eventsCount=0):(l.newListener!==void 0&&(n.emit("newListener",i,u.listener?u.listener:u),l=n._events),c=l[i]),c===void 0)c=l[i]=u,++n._eventsCount;else if(typeof c=="function"?c=l[i]=f?[u,c]:[c,u]:f?c.unshift(u):c.push(u),o=k(n),o>0&&c.length>o&&!c.warned){c.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(i)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=n,h.type=i,h.count=c.length,W(h)}return n}d.prototype.addListener=function(i,u){return C(this,i,u,!1)},d.prototype.on=d.prototype.addListener,d.prototype.prependListener=function(i,u){return C(this,i,u,!0)};function V(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function H(n,i,u){var f={fired:!1,wrapFn:void 0,target:n,type:i,listener:u},o=V.bind(f);return o.listener=u,f.wrapFn=o,o}d.prototype.once=function(i,u){return N(u),this.on(i,H(this,i,u)),this},d.prototype.prependOnceListener=function(i,u){return N(u),this.prependListener(i,H(this,i,u)),this},d.prototype.removeListener=function(i,u){var f,o,l,c,h;if(N(u),o=this._events,o===void 0)return this;if(f=o[i],f===void 0)return this;if(f===u||f.listener===u)--this._eventsCount===0?this._events=Object.create(null):(delete o[i],o.removeListener&&this.emit("removeListener",i,f.listener||u));else if(typeof f!="function"){for(l=-1,c=f.length-1;c>=0;c--)if(f[c]===u||f[c].listener===u){h=f[c].listener,l=c;break}if(l<0)return this;l===0?f.shift():T(f,l),f.length===1&&(o[i]=f[0]),o.removeListener!==void 0&&this.emit("removeListener",i,h||u)}return this},d.prototype.off=d.prototype.removeListener,d.prototype.removeAllListeners=function(i){var u,f,o;if(f=this._events,f===void 0)return this;if(f.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):f[i]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete f[i]),this;if(arguments.length===0){var l=Object.keys(f),c;for(o=0;o<l.length;++o)c=l[o],c!=="removeListener"&&this.removeAllListeners(c);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(u=f[i],typeof u=="function")this.removeListener(i,u);else if(u!==void 0)for(o=u.length-1;o>=0;o--)this.removeListener(i,u[o]);return this};function K(n,i,u){var f=n._events;if(f===void 0)return[];var o=f[i];return o===void 0?[]:typeof o=="function"?u?[o.listener||o]:[o]:u?I(o):S(o,o.length)}d.prototype.listeners=function(i){return K(this,i,!0)},d.prototype.rawListeners=function(i){return K(this,i,!1)},d.listenerCount=function(n,i){return typeof n.listenerCount=="function"?n.listenerCount(i):L.call(n,i)},d.prototype.listenerCount=L;function L(n){var i=this._events;if(i!==void 0){var u=i[n];if(typeof u=="function")return 1;if(u!==void 0)return u.length}return 0}d.prototype.eventNames=function(){return this._eventsCount>0?x(this._events):[]};function S(n,i){for(var u=new Array(i),f=0;f<i;++f)u[f]=n[f];return u}function T(n,i){for(;i+1<n.length;i++)n[i]=n[i+1];n.pop()}function I(n){for(var i=new Array(n.length),u=0;u<i.length;++u)i[u]=n[u].listener||n[u];return i}function $(n,i){return new Promise(function(u,f){function o(c){n.removeListener(i,l),f(c)}function l(){typeof n.removeListener=="function"&&n.removeListener("error",o),u([].slice.call(arguments))}B(n,i,l,{once:!0}),i!=="error"&&R(n,o,{once:!0})})}function R(n,i,u){typeof n.on=="function"&&B(n,"error",i,u)}function B(n,i,u,f){if(typeof n.on=="function")f.once?n.once(i,u):n.on(i,u);else if(typeof n.addEventListener=="function")n.addEventListener(i,function o(l){f.once&&n.removeEventListener(i,o),u(l)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof n)}},67987:function(w,m,v){var x,W;(function(F,d){x=d,W=typeof x=="function"?x.call(m,v,m,w):x,W!==void 0&&(w.exports=W)})(this,function(F){"use strict";var d=function(L){for(var S=1,T=arguments.length,I;S<T;S++)for(I in arguments[S])Object.prototype.hasOwnProperty.call(arguments[S],I)&&(L[I]=arguments[S][I]);return L},G={template:"[%t] %l:",levelFormatter:function(L){return L.toUpperCase()},nameFormatter:function(L){return L||"root"},timestampFormatter:function(L){return L.toTimeString().replace(/.*(\d{2}:\d{2}:\d{2}).*/,"$1")},format:void 0},N,k={},C=function(L){if(!L||!L.getLogger)throw new TypeError("Argument is not a root logger");N=L},V=function(L,S){if(!L||!L.setLevel)throw new TypeError("Argument is not a logger");var T=L.methodFactory,I=L.name||"",$=k[I]||k[""]||G;function R(B,n,i){var u=T(B,n,i),f=k[i]||k[""],o=f.template.indexOf("%t")!==-1,l=f.template.indexOf("%l")!==-1,c=f.template.indexOf("%n")!==-1;return function(){for(var h="",y=arguments.length,P=Array(y),_=0;_<y;_++)P[_]=arguments[_];if(I||!k[i]){var p=f.timestampFormatter(new Date),U=f.levelFormatter(B),D=f.nameFormatter(i);f.format?h+=f.format(U,D,p):(h+=f.template,o&&(h=h.replace(/%t/,p)),l&&(h=h.replace(/%l/,U)),c&&(h=h.replace(/%n/,D))),P.length&&typeof P[0]=="string"?P[0]=h+" "+P[0]:P.unshift(h)}u.apply(void 0,P)}}return k[I]||(L.methodFactory=R),S=S||{},S.template&&(S.format=void 0),k[I]=d({},$,S),L.setLevel(L.getLevel()),N||L.warn("It is necessary to call the function reg() of loglevel-plugin-prefix before calling apply. From the next release, it will throw an error. See more: https://github.com/kutuluk/loglevel-plugin-prefix/blob/master/README.md"),L},H={reg:C,apply:V},K;return F&&(K=F.prefix,H.noConflict=function(){return F.prefix===H&&(F.prefix=K),H}),H})},2043:function(w,m,v){var x,W;(function(F,d){"use strict";x=d,W=typeof x=="function"?x.call(m,v,m,w):x,W!==void 0&&(w.exports=W)})(this,function(){"use strict";var F=function(){},d="undefined",G=typeof window!==d&&typeof window.navigator!==d&&/Trident\/|MSIE /.test(window.navigator.userAgent),N=["trace","debug","info","warn","error"],k={},C=null;function V(R,B){var n=R[B];if(typeof n.bind=="function")return n.bind(R);try{return Function.prototype.bind.call(n,R)}catch{return function(){return Function.prototype.apply.apply(n,[R,arguments])}}}function H(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function K(R){return R==="debug"&&(R="log"),typeof console===d?!1:R==="trace"&&G?H:console[R]!==void 0?V(console,R):console.log!==void 0?V(console,"log"):F}function L(){for(var R=this.getLevel(),B=0;B<N.length;B++){var n=N[B];this[n]=B<R?F:this.methodFactory(n,R,this.name)}if(this.log=this.debug,typeof console===d&&R<this.levels.SILENT)return"No console available for logging"}function S(R){return function(){typeof console!==d&&(L.call(this),this[R].apply(this,arguments))}}function T(R,B,n){return K(R)||S.apply(this,arguments)}function I(R,B){var n=this,i,u,f,o="loglevel";typeof R=="string"?o+=":"+R:typeof R=="symbol"&&(o=void 0);function l(_){var p=(N[_]||"silent").toUpperCase();if(!(typeof window===d||!o)){try{window.localStorage[o]=p;return}catch{}try{window.document.cookie=encodeURIComponent(o)+"="+p+";"}catch{}}}function c(){var _;if(!(typeof window===d||!o)){try{_=window.localStorage[o]}catch{}if(typeof _===d)try{var p=window.document.cookie,U=encodeURIComponent(o),D=p.indexOf(U+"=");D!==-1&&(_=/^([^;]+)/.exec(p.slice(D+U.length+1))[1])}catch{}return n.levels[_]===void 0&&(_=void 0),_}}function h(){if(!(typeof window===d||!o)){try{window.localStorage.removeItem(o)}catch{}try{window.document.cookie=encodeURIComponent(o)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function y(_){var p=_;if(typeof p=="string"&&n.levels[p.toUpperCase()]!==void 0&&(p=n.levels[p.toUpperCase()]),typeof p=="number"&&p>=0&&p<=n.levels.SILENT)return p;throw new TypeError("log.setLevel() called with invalid level: "+_)}n.name=R,n.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},n.methodFactory=B||T,n.getLevel=function(){return f??u??i},n.setLevel=function(_,p){return f=y(_),p!==!1&&l(f),L.call(n)},n.setDefaultLevel=function(_){u=y(_),c()||n.setLevel(_,!1)},n.resetLevel=function(){f=null,h(),L.call(n)},n.enableAll=function(_){n.setLevel(n.levels.TRACE,_)},n.disableAll=function(_){n.setLevel(n.levels.SILENT,_)},n.rebuild=function(){if(C!==n&&(i=y(C.getLevel())),L.call(n),C===n)for(var _ in k)k[_].rebuild()},i=y(C?C.getLevel():"WARN");var P=c();P!=null&&(f=y(P)),L.call(n)}C=new I,C.getLogger=function(B){if(typeof B!="symbol"&&typeof B!="string"||B==="")throw new TypeError("You must supply a name when creating a logger.");var n=k[B];return n||(n=k[B]=new I(B,C.methodFactory)),n};var $=typeof window!==d?window.log:void 0;return C.noConflict=function(){return typeof window!==d&&window.log===C&&(window.log=$),C},C.getLoggers=function(){return k},C.default=C,C})},34155:w=>{var m=w.exports={},v,x;function W(){throw new Error("setTimeout has not been defined")}function F(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?v=setTimeout:v=W}catch{v=W}try{typeof clearTimeout=="function"?x=clearTimeout:x=F}catch{x=F}})();function d(T){if(v===setTimeout)return setTimeout(T,0);if((v===W||!v)&&setTimeout)return v=setTimeout,setTimeout(T,0);try{return v(T,0)}catch{try{return v.call(null,T,0)}catch{return v.call(this,T,0)}}}function G(T){if(x===clearTimeout)return clearTimeout(T);if((x===F||!x)&&clearTimeout)return x=clearTimeout,clearTimeout(T);try{return x(T)}catch{try{return x.call(null,T)}catch{return x.call(this,T)}}}var N=[],k=!1,C,V=-1;function H(){!k||!C||(k=!1,C.length?N=C.concat(N):V=-1,N.length&&K())}function K(){if(!k){var T=d(H);k=!0;for(var I=N.length;I;){for(C=N,N=[];++V<I;)C&&C[V].run();V=-1,I=N.length}C=null,k=!1,G(T)}}m.nextTick=function(T){var I=new Array(arguments.length-1);if(arguments.length>1)for(var $=1;$<arguments.length;$++)I[$-1]=arguments[$];N.push(new L(T,I)),N.length===1&&!k&&d(K)};function L(T,I){this.fun=T,this.array=I}L.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={};function S(){}m.on=S,m.addListener=S,m.once=S,m.off=S,m.removeListener=S,m.removeAllListeners=S,m.emit=S,m.prependListener=S,m.prependOnceListener=S,m.listeners=function(T){return[]},m.binding=function(T){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(T){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},14627:(w,m)=>{m.isatty=function(){return!1};function v(){throw new Error("tty.ReadStream is not implemented")}m.ReadStream=v;function x(){throw new Error("tty.WriteStream is not implemented")}m.WriteStream=x},93150:function(w,m){var v,x,W;(function(F,d){if(!0)x=[w],v=d,W=typeof v=="function"?v.apply(m,x):v,W!==void 0&&(w.exports=W);else var G})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:this,function(F){"use strict";if(!globalThis.chrome?.runtime?.id)throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser>"u"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const d="The message port closed before a response was received.",G=N=>{const k={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(k).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class C extends WeakMap{constructor(l,c=void 0){super(c),this.createItem=l}get(l){return this.has(l)||this.set(l,this.createItem(l)),super.get(l)}}const V=o=>o&&typeof o=="object"&&typeof o.then=="function",H=(o,l)=>(...c)=>{N.runtime.lastError?o.reject(new Error(N.runtime.lastError.message)):l.singleCallbackArg||c.length<=1&&l.singleCallbackArg!==!1?o.resolve(c[0]):o.resolve(c)},K=o=>o==1?"argument":"arguments",L=(o,l)=>function(h,...y){if(y.length<l.minArgs)throw new Error(`Expected at least ${l.minArgs} ${K(l.minArgs)} for ${o}(), got ${y.length}`);if(y.length>l.maxArgs)throw new Error(`Expected at most ${l.maxArgs} ${K(l.maxArgs)} for ${o}(), got ${y.length}`);return new Promise((P,_)=>{if(l.fallbackToNoCallback)try{h[o](...y,H({resolve:P,reject:_},l))}catch(p){console.warn(`${o} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,p),h[o](...y),l.fallbackToNoCallback=!1,l.noCallback=!0,P()}else l.noCallback?(h[o](...y),P()):h[o](...y,H({resolve:P,reject:_},l))})},S=(o,l,c)=>new Proxy(l,{apply(h,y,P){return c.call(y,o,...P)}});let T=Function.call.bind(Object.prototype.hasOwnProperty);const I=(o,l={},c={})=>{let h=Object.create(null),y={has(_,p){return p in o||p in h},get(_,p,U){if(p in h)return h[p];if(!(p in o))return;let D=o[p];if(typeof D=="function")if(typeof l[p]=="function")D=S(o,o[p],l[p]);else if(T(c,p)){let J=L(p,c[p]);D=S(o,o[p],J)}else D=D.bind(o);else if(typeof D=="object"&&D!==null&&(T(l,p)||T(c,p)))D=I(D,l[p],c[p]);else if(T(c,"*"))D=I(D,l[p],c["*"]);else return Object.defineProperty(h,p,{configurable:!0,enumerable:!0,get(){return o[p]},set(J){o[p]=J}}),D;return h[p]=D,D},set(_,p,U,D){return p in h?h[p]=U:o[p]=U,!0},defineProperty(_,p,U){return Reflect.defineProperty(h,p,U)},deleteProperty(_,p){return Reflect.deleteProperty(h,p)}},P=Object.create(o);return new Proxy(P,y)},$=o=>({addListener(l,c,...h){l.addListener(o.get(c),...h)},hasListener(l,c){return l.hasListener(o.get(c))},removeListener(l,c){l.removeListener(o.get(c))}}),R=new C(o=>typeof o!="function"?o:function(c){const h=I(c,{},{getContent:{minArgs:0,maxArgs:0}});o(h)}),B=new C(o=>typeof o!="function"?o:function(c,h,y){let P=!1,_,p=new Promise(ee=>{_=function(Y){P=!0,ee(Y)}}),U;try{U=o(c,h,_)}catch(ee){U=Promise.reject(ee)}const D=U!==!0&&V(U);if(U!==!0&&!D&&!P)return!1;const J=ee=>{ee.then(Y=>{y(Y)},Y=>{let re;Y&&(Y instanceof Error||typeof Y.message=="string")?re=Y.message:re="An unexpected error occurred",y({__mozWebExtensionPolyfillReject__:!0,message:re})}).catch(Y=>{console.error("Failed to send onMessage rejected reply",Y)})};return J(D?U:p),!0}),n=({reject:o,resolve:l},c)=>{N.runtime.lastError?N.runtime.lastError.message===d?l():o(new Error(N.runtime.lastError.message)):c&&c.__mozWebExtensionPolyfillReject__?o(new Error(c.message)):l(c)},i=(o,l,c,...h)=>{if(h.length<l.minArgs)throw new Error(`Expected at least ${l.minArgs} ${K(l.minArgs)} for ${o}(), got ${h.length}`);if(h.length>l.maxArgs)throw new Error(`Expected at most ${l.maxArgs} ${K(l.maxArgs)} for ${o}(), got ${h.length}`);return new Promise((y,P)=>{const _=n.bind(null,{resolve:y,reject:P});h.push(_),c.sendMessage(...h)})},u={devtools:{network:{onRequestFinished:$(R)}},runtime:{onMessage:$(B),onMessageExternal:$(B),sendMessage:i.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:i.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},f={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return k.privacy={network:{"*":f},services:{"*":f},websites:{"*":f}},I(N,u,k)};F.exports=G(chrome)}else F.exports=globalThis.browser})}},be={};function j(w){var m=be[w];if(m!==void 0)return m.exports;var v=be[w]={exports:{}};return ze[w].call(v.exports,v,v.exports,j),v.exports}j.n=w=>{var m=w&&w.__esModule?()=>w.default:()=>w;return j.d(m,{a:m}),m},(()=>{var w=Object.getPrototypeOf?v=>Object.getPrototypeOf(v):v=>v.__proto__,m;j.t=function(v,x){if(x&1&&(v=this(v)),x&8||typeof v=="object"&&v&&(x&4&&v.__esModule||x&16&&typeof v.then=="function"))return v;var W=Object.create(null);j.r(W);var F={};m=m||[null,w({}),w([]),w(w)];for(var d=x&2&&v;typeof d=="object"&&!~m.indexOf(d);d=w(d))Object.getOwnPropertyNames(d).forEach(G=>F[G]=()=>v[G]);return F.default=()=>v,j.d(W,F),W}})(),j.d=(w,m)=>{for(var v in m)j.o(m,v)&&!j.o(w,v)&&Object.defineProperty(w,v,{enumerable:!0,get:m[v]})},j.o=(w,m)=>Object.prototype.hasOwnProperty.call(w,m),j.r=w=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(w,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(w,"__esModule",{value:!0})};var vr={};(()=>{"use strict";let w=e=>crypto.getRandomValues(new Uint8Array(e)),m=(e,t,r)=>{let s=(2<<Math.log(e.length-1)/Math.LN2)-1,a=-~(1.6*s*t/e.length);return(g=t)=>{let b="";for(;;){let M=r(a),A=a;for(;A--;)if(b+=e[M[A]&s]||"",b.length===g)return b}}},v=(e,t=21)=>m(e,t,w),x=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,r)=>(r&=63,r<36?t+=r.toString(36):r<62?t+=(r-26).toString(36).toUpperCase():r>62?t+="-":t+="_",t),"");function W(e){return e&&typeof e.then=="function"}var F=Promise.resolve(!1),d=Promise.resolve(!0),G=Promise.resolve();function N(e,t){return e||(e=0),new Promise(function(r){return setTimeout(function(){return r(t)},e)})}function k(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function C(){return Math.random().toString(36).substring(2)}var V=0;function H(){var e=Date.now()*1e3;return e<=V&&(e=V+1),V=e,e}function K(){return typeof navigator<"u"&&typeof navigator.locks<"u"&&typeof navigator.locks.request=="function"}var L=H,S="native";function T(e){var t={time:H(),messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(r){t.messagesCallback&&t.messagesCallback(r.data)},t}function I(e){e.bc.close(),e.subFns=[]}function $(e,t){try{return e.bc.postMessage(t,!1),G}catch(r){return Promise.reject(r)}}function R(e,t){e.messagesCallback=t}function B(){if(typeof globalThis<"u"&&globalThis.Deno&&globalThis.Deno.args)return!0;if((typeof window<"u"||typeof self<"u")&&typeof BroadcastChannel=="function"){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}else return!1}function n(){return 150}var i={create:T,close:I,onMessage:R,postMessage:$,canBeUsed:B,type:S,averageResponseTime:n,microSeconds:L};class u{ttl;map=new Map;_to=!1;constructor(t){this.ttl=t}has(t){return this.map.has(t)}add(t){this.map.set(t,o()),this._to||(this._to=!0,setTimeout(()=>{this._to=!1,f(this)},0))}clear(){this.map.clear()}}function f(e){const t=o()-e.ttl,r=e.map[Symbol.iterator]();for(;;){const s=r.next().value;if(!s)return;const a=s[0];if(s[1]<t)e.map.delete(a);else return}}function o(){return Date.now()}function l(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return typeof t.webWorkerSupport>"u"&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=1e3*45),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&typeof e.idb.onclose=="function"&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=1e3*60),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=1e3*60*2),t.node.maxParallelWrites||(t.node.maxParallelWrites=2048),typeof t.node.useFastPath>"u"&&(t.node.useFastPath=!0),t}var c=H,h="pubkey.broadcast-channel-0-",y="messages",P={durability:"relaxed"},_="idb";function p(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){if(typeof window.mozIndexedDB<"u")return window.mozIndexedDB;if(typeof window.webkitIndexedDB<"u")return window.webkitIndexedDB;if(typeof window.msIndexedDB<"u")return window.msIndexedDB}return!1}function U(e){e.commit&&e.commit()}function D(e){var t=p(),r=h+e,s=t.open(r);return s.onupgradeneeded=function(a){var g=a.target.result;g.createObjectStore(y,{keyPath:"id",autoIncrement:!0})},new Promise(function(a,g){s.onerror=function(b){return g(b)},s.onsuccess=function(){a(s.result)}})}function J(e,t,r){var s=Date.now(),a={uuid:t,time:s,data:r},g=e.transaction([y],"readwrite",P);return new Promise(function(b,M){g.oncomplete=function(){return b()},g.onerror=function(O){return M(O)};var A=g.objectStore(y);A.add(a),U(g)})}function ee(e){var t=e.transaction(y,"readonly",P),r=t.objectStore(y),s=[];return new Promise(function(a){r.openCursor().onsuccess=function(g){var b=g.target.result;b?(s.push(b.value),b.continue()):(U(t),a(s))}})}function Y(e,t){var r=e.transaction(y,"readonly",P),s=r.objectStore(y),a=[],g=IDBKeyRange.bound(t+1,1/0);if(s.getAll){var b=s.getAll(g);return new Promise(function(A,O){b.onerror=function(te){return O(te)},b.onsuccess=function(te){A(te.target.result)}})}function M(){try{return g=IDBKeyRange.bound(t+1,1/0),s.openCursor(g)}catch{return s.openCursor()}}return new Promise(function(A,O){var te=M();te.onerror=function(_e){return O(_e)},te.onsuccess=function(_e){var ne=_e.target.result;ne?ne.value.id<t+1?ne.continue(t+1):(a.push(ne.value),ne.continue()):(U(r),A(a))}})}function re(e,t){if(e.closed)return Promise.resolve([]);var r=e.db.transaction(y,"readwrite",P),s=r.objectStore(y);return Promise.all(t.map(function(a){var g=s.delete(a);return new Promise(function(b){g.onsuccess=function(){return b()}})}))}function Ze(e,t){var r=Date.now()-t,s=e.transaction(y,"readonly",P),a=s.objectStore(y),g=[];return new Promise(function(b){a.openCursor().onsuccess=function(M){var A=M.target.result;if(A){var O=A.value;O.time<r?(g.push(O),A.continue()):(U(s),b(g))}else b(g)}})}function Qe(e){return Ze(e.db,e.options.idb.ttl).then(function(t){return re(e,t.map(function(r){return r.id}))})}function et(e,t){return t=l(t),D(e).then(function(r){var s={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:C(),eMIs:new u(t.idb.ttl*2),writeBlockPromise:G,messagesCallback:null,readQueuePromises:[],db:r};return r.onclose=function(){s.closed=!0,t.idb.onclose&&t.idb.onclose()},ye(s),s})}function ye(e){e.closed||Ee(e).then(function(){return N(e.options.idb.fallbackInterval)}).then(function(){return ye(e)})}function tt(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}function Ee(e){return e.closed||!e.messagesCallback?G:Y(e.db,e.lastCursorId).then(function(t){var r=t.filter(function(s){return!!s}).map(function(s){return s.id>e.lastCursorId&&(e.lastCursorId=s.id),s}).filter(function(s){return tt(s,e)}).sort(function(s,a){return s.time-a.time});return r.forEach(function(s){e.messagesCallback&&(e.eMIs.add(s.id),e.messagesCallback(s.data))}),G})}function rt(e){e.closed=!0,e.db.close()}function nt(e,t){return e.writeBlockPromise=e.writeBlockPromise.then(function(){return J(e.db,e.uuid,t)}).then(function(){k(0,10)===0&&Qe(e)}),e.writeBlockPromise}function st(e,t,r){e.messagesCallbackTime=r,e.messagesCallback=t,Ee(e)}function ot(){return!!p()}function it(e){return e.idb.fallbackInterval*2}var at={create:et,close:rt,onMessage:st,postMessage:nt,canBeUsed:ot,type:_,averageResponseTime:it,microSeconds:c},lt=H,ut="pubkey.broadcastChannel-",ct="localstorage";function we(){var e;if(typeof window>"u")return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return e}function xe(e){return ut+e}function ft(e,t){return new Promise(function(r){N().then(function(){var s=xe(e.channelName),a={token:C(),time:Date.now(),data:t,uuid:e.uuid},g=JSON.stringify(a);we().setItem(s,g);var b=document.createEvent("Event");b.initEvent("storage",!0,!0),b.key=s,b.newValue=g,window.dispatchEvent(b),r()})})}function gt(e,t){var r=xe(e),s=function(g){g.key===r&&t(JSON.parse(g.newValue))};return window.addEventListener("storage",s),s}function dt(e){window.removeEventListener("storage",e)}function mt(e,t){if(t=l(t),!Le())throw new Error("BroadcastChannel: localstorage cannot be used");var r=C(),s=new u(t.localstorage.removeTimeout),a={channelName:e,uuid:r,eMIs:s};return a.listener=gt(e,function(g){a.messagesCallback&&g.uuid!==r&&(!g.token||s.has(g.token)||g.data.time&&g.data.time<a.messagesCallbackTime||(s.add(g.token),a.messagesCallback(g.data)))}),a}function pt(e){dt(e.listener)}function ht(e,t,r){e.messagesCallbackTime=r,e.messagesCallback=t}function Le(){var e=we();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch{return!1}return!0}function At(){var e=120,t=navigator.userAgent.toLowerCase();return t.includes("safari")&&!t.includes("chrome")?e*2:e}var vt={create:mt,close:pt,onMessage:ht,postMessage:ft,canBeUsed:Le,type:ct,averageResponseTime:At,microSeconds:lt},Te=H,_t="simulate",ie=new Set;function bt(e){var t={time:Te(),name:e,messagesCallback:null};return ie.add(t),t}function yt(e){ie.delete(e)}var Ce=5;function Et(e,t){return new Promise(function(r){return setTimeout(function(){var s=Array.from(ie);s.forEach(function(a){a.name===e.name&&a!==e&&a.messagesCallback&&a.time<t.time&&a.messagesCallback(t)}),r()},Ce)})}function wt(e,t){e.messagesCallback=t}function xt(){return!0}function Lt(){return Ce}var Tt={create:bt,close:yt,onMessage:wt,postMessage:Et,canBeUsed:xt,type:_t,averageResponseTime:Lt,microSeconds:Te},Re=[i,at,vt];function Ct(e){var t=[].concat(e.methods,Re).filter(Boolean);if(e.type){if(e.type==="simulate")return Tt;var r=t.find(function(a){return a.type===e.type});if(r)return r;throw new Error("method-type "+e.type+" not found")}e.webWorkerSupport||(t=t.filter(function(a){return a.type!=="idb"}));var s=t.find(function(a){return a.canBeUsed()});if(s)return s;throw new Error("No usable method found in "+JSON.stringify(Re.map(function(a){return a.type})))}var Pe=new Set,Rt=0,ae=function(t,r){this.id=Rt++,Pe.add(this),this.name=t,le&&(r=le),this.options=l(r),this.method=Ct(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,Pt(this)};ae._pubkey=!0;function _r(e){e=fillOptionsWithDefaults(e);var t=chooseMethod(e);return t.type==="node"?t.clearNodeFolder().then(function(){return!0}):PROMISE_RESOLVED_FALSE}var le;function br(e){le=e}ae.prototype={postMessage:function(t){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(t));return Ie(this,"message",t)},postInternal:function(t){return Ie(this,"internal",t)},set onmessage(e){var t=this.method.microSeconds(),r={time:t,fn:e};Me(this,"message",this._onML),e&&typeof e=="function"?(this._onML=r,Se(this,"message",r)):this._onML=null},addEventListener:function(t,r){var s=this.method.microSeconds(),a={time:s,fn:r};Se(this,t,a)},removeEventListener:function(t,r){var s=this._addEL[t].find(function(a){return a.fn===r});Me(this,t,s)},close:function(){var t=this;if(!this.closed){Pe.delete(this),this.closed=!0;var r=this._prepP?this._prepP:G;return this._onML=null,this._addEL.message=[],r.then(function(){return Promise.all(Array.from(t._uMP))}).then(function(){return Promise.all(t._befC.map(function(s){return s()}))}).then(function(){return t.method.close(t._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};function Ie(e,t,r){var s=e.method.microSeconds(),a={time:s,type:t,data:r},g=e._prepP?e._prepP:G;return g.then(function(){var b=e.method.postMessage(e._state,a);return e._uMP.add(b),b.catch().then(function(){return e._uMP.delete(b)}),b})}function Pt(e){var t=e.method.create(e.name,e.options);W(t)?(e._prepP=t,t.then(function(r){e._state=r})):e._state=t}function Ne(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function Se(e,t,r){e._addEL[t].push(r),It(e)}function Me(e,t,r){e._addEL[t]=e._addEL[t].filter(function(s){return s!==r}),Nt(e)}function It(e){if(!e._iL&&Ne(e)){var t=function(a){e._addEL[a.type].forEach(function(g){a.time>=g.time&&g.fn(a.data)})},r=e.method.microSeconds();e._prepP?e._prepP.then(function(){e._iL=!0,e.method.onMessage(e._state,t,r)}):(e._iL=!0,e.method.onMessage(e._state,t,r))}}function Nt(e){if(e._iL&&!Ne(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}var St=(e,t,r)=>new Promise((s,a)=>{var g=A=>{try{M(r.next(A))}catch(O){a(O)}},b=A=>{try{M(r.throw(A))}catch(O){a(O)}},M=A=>A.done?s(A.value):Promise.resolve(A.value).then(g,b);M((r=r.apply(e,t)).next())});const Mt=e=>`${e}_${x()}_callback`;class ke{constructor(){this.listeners={}}addListener(t,r){const s=this.listeners[t]||[];s.push(r),this.listeners[t]=s}once(t,r){this.addListener(t,s=>(delete this.listeners[t],r(s)))}emit(t,r){return new Promise((s,a)=>{const g=Mt(t);this.once(g,b=>St(this,null,function*(){var M;if(!((M=b.data)!=null&&M.error)){s(b.data.params);return}a(b.data.error)})),this.send({method:t,data:{cbMethod:g,params:r}})})}disconnect(){}}var Oe=(e,t,r)=>new Promise((s,a)=>{var g=A=>{try{M(r.next(A))}catch(O){a(O)}},b=A=>{try{M(r.throw(A))}catch(O){a(O)}},M=A=>A.done?s(A.value):Promise.resolve(A.value).then(g,b);M((r=r.apply(e,t)).next())});class kt extends ke{constructor(t){super(),this.port=new ae(t),this.port.addEventListener("message",r=>{const s=r.method;!s||!this.listeners[s]||this.listeners[s].forEach(a=>a(r))})}listen(t){const r=s=>{t(s)};return this.port.addEventListener("message",r),()=>this.port.removeEventListener("message",r)}send(t){return Oe(this,null,function*(){yield this.port.postMessage(t)})}disconnect(){return Oe(this,null,function*(){yield this.port.close()})}}var Ot=j(17187),Bt=j.n(Ot),Be;const ue=typeof chrome!="object"||!((Be=chrome==null?void 0:chrome.runtime)!=null&&Be.id)?{}:j(93150),De=ue;De.action=ue.action||ue.browserAction;const Er=()=>{var e;return!!((e=chrome.storage)!=null&&e.session)},ce=De;var Fe=(e,t,r)=>new Promise((s,a)=>{var g=A=>{try{M(r.next(A))}catch(O){a(O)}},b=A=>{try{M(r.throw(A))}catch(O){a(O)}},M=A=>A.done?s(A.value):Promise.resolve(A.value).then(g,b);M((r=r.apply(e,t)).next())});const wr=e=>Fe(void 0,null,function*(){var t;const r=(t=yield browser.tabs.query({}))!=null?t:[];yield Promise.all(r.filter(s=>!!s?.id).map(s=>browser.tabs.sendMessage(s.id,e).catch(a=>{var g;(g=browser.runtime.lastError)==null||g.message})))});function xr(e,t){return Fe(this,null,function*(){var r;try{return yield browser.tabs.sendMessage(e,t)}catch{(r=browser.runtime.lastError)==null||r.message}})}class Ue extends ke{constructor(t){var r;super(),this.port=(r=ce.runtime)==null?void 0:r.connect({name:t||"extension-message"}),this.port||location.reload(),this.port.onMessage.addListener(s=>{const a=s.method;!a||!this.listeners[a]||this.listeners[a].forEach(g=>g(s))})}send(t){try{this.port.postMessage(t)}catch(r){if(r?.message==="Attempting to use a disconnected port object")return;throw r}}listen(t){this.port.onMessage.addListener(r=>{t(r)})}disconnect(){this.port.disconnect()}}const Dt=e=>(ce.runtime.onMessage.addListener(e),()=>ce.runtime.onMessage.removeListener(e)),Lr=e=>browser.runtime.sendMessage(e),Tr=375,Cr=600,Rr=30,Ft="in_page_channel",Ut="in-page-channel-node-id",Wt="data-channel-name",Pr="popup_channel",Ir="sidepanel_channel",Nr="trustwallet-script",Sr={unlockWalletCore:"INTERNAL_UnlockWalletCore",notificationConfirmPrefix:"INTERNAL_notificationConfirm_",notificationCancelPrefix:"INTERNAL_notificationCancel_",keyringControllerGetAccounts:"INTERNAL_keyringControllerGetAccounts",keyringControllerGetSeedPhrase:"INTERNAL_keyringControllerGetSeedPhrase",keyringControllerSetConnectedSites:"INTERNAL_keyringControllerSetConnectedSites",keyringControllerSetFirstTime:"INTERNAL_keyringControllerSetFirstTime",appControllerCreateVault:"INTERNAL_appControllerCreateVault",appControllerRestoreVault:"INTERNAL_appControllerRestoreVault",appControllerReset:"INTERNAL_appControllerReset",appControllerSetIsAnalyticsEnabled:"INTERNAL_appControllerSetIsAnalyticsEnabled",notificationControllerRemoveNotification:"INTERNAL_notificationControllerRemoveNotification",settingsControllerSetIsAnalyticsEnabled:"INTERNAL_settingsControllerSetIsAnalyticsEnabled",settingsControllerSetIsDefaultWallet:"INTERNAL_settingsControllerSetIsDefaultWallet",apiControllerFetch:"INTERNAL_apiControllerFetch"},Mr="REDUX_OBSERVER_CALLBACK_ACTION",kr="1920x1080",Or=60;var q=(e=>(e.READY="READY",e.LOADING="LOADING",e.IDLE="IDLE",e.RESTARTING="RESTARTING",e))(q||{});class z extends Bt(){constructor(){super(...arguments),this.status="LOADING"}emit(t,r){return this.status=r,super.emit(t,r)}emitReplaced(t,r){return super.emit(t,r)}}z.EVENT="EVENT",z.REPLACED="REPLACED";var Gt=j(2043),Q=j.n(Gt),jt=j(67987),We=j.n(jt),fe=j(14627),Ht=j.t(fe,2),Ge=j(34155);const{env:Z={},argv:je=[],platform:$t=""}=typeof Ge>"u"?{}:Ge,Vt="NO_COLOR"in Z||je.includes("--no-color"),Kt="FORCE_COLOR"in Z||je.includes("--color"),Yt=$t==="win32",He=Z.TERM==="dumb",qt=Ht&&fe.isatty&&fe.isatty(1)&&Z.TERM&&!He,Xt="CI"in Z&&("GITHUB_ACTIONS"in Z||"GITLAB_CI"in Z||"CIRCLECI"in Z),Jt=!Vt&&(Kt||Yt&&!He||qt||Xt),$e=(e,t,r,s,a=t.substring(0,e)+s,g=t.substring(e+r.length),b=g.indexOf(r))=>a+(b<0?g:$e(b,g,r,s)),zt=(e,t,r,s,a)=>e<0?r+t+s:r+$e(e,t,s,a)+s,Zt=(e,t,r=e,s=e.length+1)=>a=>a||!(a===""||a===void 0)?zt((""+a).indexOf(t,s),a,e,t,r):"",E=(e,t,r)=>Zt(`\x1B[${e}m`,`\x1B[${t}m`,r),Ve={reset:E(0,0),bold:E(1,22,"\x1B[22m\x1B[1m"),dim:E(2,22,"\x1B[22m\x1B[2m"),italic:E(3,23),underline:E(4,24),inverse:E(7,27),hidden:E(8,28),strikethrough:E(9,29),black:E(30,39),red:E(31,39),green:E(32,39),yellow:E(33,39),blue:E(34,39),magenta:E(35,39),cyan:E(36,39),white:E(37,39),gray:E(90,39),bgBlack:E(40,49),bgRed:E(41,49),bgGreen:E(42,49),bgYellow:E(43,49),bgBlue:E(44,49),bgMagenta:E(45,49),bgCyan:E(46,49),bgWhite:E(47,49),blackBright:E(90,39),redBright:E(91,39),greenBright:E(92,39),yellowBright:E(93,39),blueBright:E(94,39),magentaBright:E(95,39),cyanBright:E(96,39),whiteBright:E(97,39),bgBlackBright:E(100,49),bgRedBright:E(101,49),bgGreenBright:E(102,49),bgYellowBright:E(103,49),bgBlueBright:E(104,49),bgMagentaBright:E(105,49),bgCyanBright:E(106,49),bgWhiteBright:E(107,49)},Qt=({useColor:e=Jt}={})=>e?Ve:Object.keys(Ve).reduce((t,r)=>({...t,[r]:String}),{}),{reset:Br,bold:Dr,dim:Fr,italic:Ur,underline:Wr,inverse:Gr,hidden:jr,strikethrough:Hr,black:$r,red:er,green:tr,yellow:rr,blue:nr,magenta:sr,cyan:or,white:Vr,gray:ir,bgBlack:Kr,bgRed:Yr,bgGreen:qr,bgYellow:Xr,bgBlue:Jr,bgMagenta:zr,bgCyan:Zr,bgWhite:Qr,blackBright:en,redBright:tn,greenBright:rn,yellowBright:nn,blueBright:sn,magentaBright:on,cyanBright:an,whiteBright:ln,bgBlackBright:un,bgRedBright:cn,bgGreenBright:fn,bgYellowBright:gn,bgBlueBright:dn,bgMagentaBright:mn,bgCyanBright:pn,bgWhiteBright:hn}=Qt(),ar=!1;Q().setLevel(ar?"DEBUG":"silent");var lr=(e=>(e.TRACE="TRACE",e.DEBUG="DEBUG",e.INFO="INFO",e.WARN="WARN",e.ERROR="ERROR",e))(lr||{});const ur={TRACE:sr,DEBUG:or,INFO:nr,WARN:rr,ERROR:er};We().reg(Q()),We().apply(Q(),{format(e,t,r){return`${ir(`[${r}]`)} ${ur[e](e)}${t==="root"?"":tr(` [${t}:]`)}`}});const cr=Q().error.bind(Q());let ge;Q().error=(...e)=>{if(!"MISSING_ENV_VAR".DISABLE_ERROR_LOGS)return ge&&ge(...e),cr(...e)};function An(e){ge=e}const se=Q();function fr(e){const t=document.head||document.documentElement,r=document.createElement("div");r.id=Ut,r.setAttribute(Wt,e),t.insertBefore(r,t.children[0])}var gr=(e=>(e.INTERNAL="INTERNAL",e.PUBLIC="PUBLIC",e))(gr||{});function Ke(e,t){return`${t}_${e}`}function Ye(e,t){return e.indexOf(t)===0}function X(e){return Ke(e,"INTERNAL")}function de(e){return Ke(e,"PUBLIC")}function vn(e){return Ye(e,"INTERNAL")}function _n(e){return Ye(e,"PUBLIC")}const dr={RESET:X("Reset"),LOCK:X("Lock"),LOCK_CALLBACK:X("Lock_callback"),AUTHENTICATE:X("Authenticate"),REGISTER_DEVICE:X("RegisterDevice"),APP_DISPLAYED:X("AppDisplayed"),WARNING_DISPLAYED:X("WarningDisplayed"),ICON_THEME_CHANGED:X("IconThemeChanged"),GET_APP_SETTINGS:de("GetAppSettings"),GET_APP_NODES:de("GetAppNodes"),GET_STORE:X("GetStore"),GET_REDUX_STATE:X("GetReduxState"),DISPATCH_REDUX_ACTION:X("DispatchReduxAction"),PING:de("Ping")},yn=()=>{},En=e=>{const t=window.open(e,"_blank","noopener nofollow noreferrer");t&&(t.opener=null)},qe=e=>new Promise(t=>setTimeout(t,e));function me(e){if(!e.portStream)return Promise.resolve(q.IDLE);const t=()=>qe(e.FIRST_TIME_WAIT).then(()=>q.IDLE);return Promise.race([e.portStream.emit(dr.PING),t()])}var mr=(e,t,r)=>new Promise((s,a)=>{var g=A=>{try{M(r.next(A))}catch(O){a(O)}},b=A=>{try{M(r.throw(A))}catch(O){a(O)}},M=A=>A.done?s(A.value):Promise.resolve(A.value).then(g,b);M((r=r.apply(e,t)).next())});function pe(e){return mr(this,null,function*(){if(e.checking)return;e.checking=!0,(yield me(e))===q.IDLE?e.missCount++:e.statusProvider.emit(z.EVENT,q.READY),e.missCount>=e.MAX_MISS_RECONNECT&&(e.statusProvider.emit(z.EVENT,q.LOADING),e.portStream=new Ue(e.portName),e.statusProvider.emit(z.REPLACED,q.LOADING),e.missCount=0),e.checking=!1,setTimeout(()=>pe(e),e.THRESHOLD)})}function Xe(e){return new Promise(t=>{me(e).then(r=>{r===q.READY?(t(e),pe(e)):(e.portStream=new Ue(e.portName),e.statusProvider.emit(z.REPLACED,q.LOADING),me(e).then(s=>{s===q.READY?(e.statusProvider.emit(z.EVENT,q.READY),t(e),pe(e)):t(qe(e.RETRY_THRESHOLD).then(()=>Xe(e)))}).catch(se.error))}).catch(se.error)})}var pr=(e,t,r)=>new Promise((s,a)=>{var g=A=>{try{M(r.next(A))}catch(O){a(O)}},b=A=>{try{M(r.throw(A))}catch(O){a(O)}},M=A=>A.done?s(A.value):Promise.resolve(A.value).then(g,b);M((r=r.apply(e,t)).next())});const he=`${Ft}_${x(6)}`;fr(he);const Ae=new kt(he),hr=new z,oe={portName:he,checking:!1,missCount:0,THRESHOLD:1e4,FIRST_TIME_WAIT:200,RETRY_THRESHOLD:400,MAX_MISS_RECONNECT:1,statusProvider:hr},Je=new Proxy({},{get(e,t,r){return Reflect.get(oe.portStream,t,r)}});let ve;function Ar(){return pr(this,null,function*(){oe.statusProvider.on(z.REPLACED,()=>{ve&&ve(),ve=Je.listen(t=>{var r;return((r=t.method)==null?void 0:r.endsWith("_callback"))&&Ae.send(t)})});function e(t,r){return new Promise(s=>{t.statusProvider.status===q.READY?s(r()):setTimeout(()=>s(e(t,r)),t.THRESHOLD)})}Ae.listen(t=>{var r;if(!((r=t.method)!=null&&r.endsWith("_callback")))return e(oe,()=>Je.send(t))}),Dt(t=>Ae.send(t)),yield Xe(oe)})}Ar().catch(se.error).then(()=>se.debug("content started"))})()})();
