"use strict";(self.webpackChunkbrowser_extension_wallet=self.webpackChunkbrowser_extension_wallet||[]).push([[721],{4721:(Ht,_,l)=>{l.r(_),l.d(_,{default:()=>Rt});var t=l(85893),Ie=l(23897),i=l(67294);const ee=(0,i.createContext)({}),Se=({children:n})=>{const[s,e]=(0,i.useState)(null);return(0,t.jsx)(ee.Provider,{value:{ledgerApp:s,setLedgerApp:e},children:n})},Oe=24,Me=24,Re=({width:n,height:s})=>(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:n??Oe,height:s??Me,viewBox:"0 0 40 40",fill:"#f0b90b",children:[(0,t.jsx)("path",{d:"M20.245 0L9.634 6.125l3.901 2.262 6.71-3.862 6.71 3.862 3.902-2.262L20.245 0zM26.956 11.586l3.9 2.263v4.526l-6.71 3.862v7.724l-3.9 2.263-3.902-2.263v-7.724l-6.71-3.862v-4.526l3.901-2.263 6.71 3.863 6.71-3.863z"}),(0,t.jsx)("path",{d:"M30.857 21.573V26.1l-3.901 2.262v-4.525l3.9-2.263z"}),(0,t.jsx)("path",{d:"M26.916 31.56l6.71-3.862v-7.724l3.902-2.263v12.25l-10.611 6.125V31.56zM33.627 12.25l-3.902-2.263 3.902-2.263 3.9 2.263v4.525l-3.9 2.263V12.25zM16.344 37.724V33.2l3.901 2.263 3.902-2.263v4.525l-3.902 2.263-3.9-2.263zM13.535 28.361L9.634 26.1v-4.526l3.901 2.263v4.525zM20.245 12.25l-3.9-2.263 3.9-2.263 3.902 2.263-3.902 2.263zM10.765 9.987l-3.9 2.263v4.525l-3.902-2.263V9.987l3.901-2.263 3.901 2.263z"}),(0,t.jsx)("path",{d:"M2.963 17.711l3.901 2.263v7.724l6.71 3.862v4.526L2.963 29.96V17.71z"})]});var He=l(81613);const Be=25,Ve=24,be=({width:n,height:s})=>(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:n??Be,height:s??Ve,viewBox:"0 0 30 30",fill:"none",children:[(0,t.jsx)("path",{d:"M29.5535 18.6245C27.5583 26.6716 19.4 31.5487 11.3747 29.5535C3.34939 27.5584 -1.55003 19.4004 0.445203 11.3755C2.44044 3.32836 10.5766 -1.54868 18.624 0.446474C26.6715 2.46379 31.5487 10.5996 29.5535 18.6245Z",fill:"#F6921A"}),(0,t.jsx)("path",{d:"M21.4994 12.7704C21.7876 10.7752 20.2801 9.71112 18.1962 8.97956L18.8613 6.27502L17.2207 5.85382L16.5557 8.49186C16.1123 8.38102 15.6689 8.29234 15.2477 8.1815L15.9127 5.5213L14.2722 5.1001L13.6071 7.80464C13.2524 7.71597 12.8977 7.64946 12.5652 7.56079L10.3039 6.98441L9.86051 8.73571C9.86051 8.73571 11.0798 9.0239 11.0577 9.0239C11.7227 9.20125 11.8558 9.62244 11.8336 9.97714L11.0577 13.0585C11.102 13.0807 11.1685 13.0807 11.235 13.1029C11.1907 13.0807 11.1242 13.0807 11.0577 13.0585L9.97136 17.3814C9.88268 17.5809 9.68318 17.8912 9.21762 17.7804C9.23979 17.8026 8.02048 17.4922 8.02048 17.4922L7.2002 19.3765L9.35063 19.9086C9.74968 20.0194 10.1487 20.1081 10.5256 20.2189L9.83835 22.9456L11.4789 23.3668L12.144 20.6623C12.5873 20.7953 13.0307 20.9061 13.452 20.9948L12.7869 23.6772L14.4274 24.0984L15.1147 21.3717C17.9302 21.9037 20.0362 21.682 20.923 19.1548C21.6324 17.1153 20.8787 15.9404 19.4155 15.1645C20.4796 14.9428 21.2777 14.2335 21.4994 12.7704ZM17.7306 18.0464C17.2207 20.0859 13.7845 18.9775 12.6539 18.7115L13.5628 15.098C14.6934 15.364 18.2627 15.9183 17.7306 18.0464ZM18.2405 12.7482C17.775 14.6103 14.9151 13.6571 13.984 13.4354L14.8043 10.1545C15.7354 10.3762 18.7282 10.7974 18.2405 12.7482Z",fill:"white"})]});var Ge=l(80707),y=l(92582),p=l(73413);const R=5,P={[p.M.Ethereum]:{icon:(0,t.jsx)(He.x,{width:24,height:24}),provider:y.P.ethereum,symbol:"ETH"},[p.M.Bitcoin]:{icon:(0,t.jsx)(be,{}),provider:y.P.bitcoin,symbol:"BTC"},[p.M.Solana]:{icon:(0,t.jsx)(Ge.v,{}),provider:y.P.solana,symbol:"SOL"},[p.M.Binance]:{icon:(0,t.jsx)(Re,{}),provider:y.P.binance,symbol:"BNB"}},we={[p.M.Ethereum]:60,[p.M.Solana]:501,[p.M.Binance]:714,[p.M.Bitcoin]:0};var te=l(94061),se=(n,s,e)=>new Promise((o,a)=>{var u=r=>{try{d(e.next(r))}catch(c){a(c)}},m=r=>{try{d(e.throw(r))}catch(c){a(c)}},d=r=>r.done?o(r.value):Promise.resolve(r.value).then(u,m);d((e=e.apply(n,s)).next())});function ne(){const n=e=>se(this,null,function*(){yield y.P.requestToOpenApp(e);const[o,a]=yield P[e].provider();return{value:o,transport:a,name:e}}),s=(0,i.useCallback)(()=>se(this,null,function*(){const e=yield y.P.detect();if(y.P.supported(e)){const{provider:o}=P[e],[a,u]=yield o();return{value:a,transport:u,name:e}}}),[]);return{getApp:n,detectApp:s}}var re=l(66012),le=l(11e3);const oe=()=>(0,i.useContext)(ee);var Fe=l(88955),Ze=l(89818),L=l(48303),f=l(45618),H=l(86896);const We=()=>{const{formatMessage:n}=(0,H.Z)();return(0,t.jsxs)("div",{className:"flex flex-col items-center space-y-6 my-14",children:[(0,t.jsx)(Ze.k,{}),(0,t.jsx)(L.x,{type:f.Xi.TITLE,theme:f.W5.SECONDARY,children:n({id:"import-ledger-connection-error.description"})})]})};var ce=l(32193),ae=l(69671);const ze=()=>{const{formatMessage:n}=(0,H.Z)();return(0,t.jsxs)("div",{className:"flex flex-col items-center space-y-6 my-14",children:[(0,t.jsx)(ae.$,{size:ce.m.XLARGE}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)(L.x,{type:f.Xi.TITLE,theme:f.W5.SECONDARY,children:n({id:"import-ledger-connect.spinner.title"})}),(0,t.jsx)(L.x,{type:f.Xi.TITLE,theme:f.W5.SECONDARY,children:n({id:"import-ledger-connect.spinner.description"})})]})]})};var Ue=l(47031),z=l(49756),U=l(63118),Xe=l(73748),X=l(86215);const Ye=({icon:n,title:s,actions:e})=>(0,t.jsxs)(X.J,{className:"relative",children:[(0,t.jsxs)(X.J.Button,{className:"outline-none flex items-center space-x-2",children:[n,(0,t.jsx)(L.x,{type:f.Xi.TITLE,children:s}),(0,t.jsx)(Xe.v,{colorClass:"text-iconNormal"})]}),(0,t.jsx)(Ue.u,{as:i.Fragment,enter:"transition ease-out duration-200",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1",children:(0,t.jsx)(X.J.Panel,{onClick:o=>o.stopPropagation(),className:"absolute min-w-[200px] -right-8 z-10 shadow-lg rounded p-4 bg-backgroundPrimary cursor-default",children:({close:o})=>(0,t.jsx)("ul",{className:"flex flex-col items-start space-y-4 pl-2.5",children:e.map(({label:a,icon:u,onClick:m})=>(0,t.jsxs)("li",{className:"flex items-center space-x-2",children:[u,(0,t.jsx)(z.z,{theme:U.jM.TRANSPARENT,noPadding:!0,onClick:()=>{m(),o()},children:(0,t.jsx)(L.x,{children:a})})]},a))})})})]});var A=l(39881),ie=l(19096),de=l(37632),ue=l(83954);const ve=216,me=81,$e=({width:n,height:s,colorClass:e})=>(0,t.jsxs)("svg",{className:e,fill:"none",width:n??ve,height:s??me,viewBox:`0 0 ${ve} ${me}`,xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsxs)("g",{clipPath:"url(#clip0_4_40234)",children:[(0,t.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M75.5 0.5H74.5V34.5309C72.5268 34.777 71 36.4602 71 38.5C71 40.7091 72.7909 42.5 75 42.5C77.2091 42.5 79 40.7091 79 38.5C79 36.4602 77.4732 34.777 75.5 34.5309V0.5ZM74.5 35.5415V37.5H75.5V35.5415C76.9189 35.7795 78 37.0135 78 38.5C78 40.1569 76.6569 41.5 75 41.5C73.3431 41.5 72 40.1569 72 38.5C72 37.0135 73.0811 35.7795 74.5 35.5415Z",fill:"currentColor"}),(0,t.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M75 37.5C73.8954 37.5 73 38.3954 73 39.5H71C70.4477 39.5 70 39.9477 70 40.5H64C63.4477 40.5 63 40.9477 63 41.5V46.5H52C50.1362 46.5 48.5701 47.7748 48.126 49.5H47.5H42C40.8954 49.5 40 50.3954 40 51.5H11V53H40V54.5H11V56H40V55.5C40 56.6046 40.8954 57.5 42 57.5H47.5H48.126C48.5701 59.2252 50.1362 60.5 52 60.5H63V65.5C63 66.0523 63.4477 66.5 64 66.5H132H200.5H201H202V65.5V65V42V41.5V40.5H201H200.5H132H112C112 39.9477 111.552 39.5 111 39.5H103C102.448 39.5 102 39.9477 102 40.5H80C80 39.9477 79.5523 39.5 79 39.5H77C77 38.3954 76.1046 37.5 75 37.5ZM132 65H200.5V42H132C125.649 42 120.5 47.1487 120.5 53.5C120.5 59.8513 125.649 65 132 65ZM125.932 42C121.809 44.1798 119 48.5118 119 53.5C119 58.4882 121.809 62.8202 125.932 65H64.5V60.5V59V48V46.5V42H125.932ZM63 48V59H52C50.6193 59 49.5 57.8807 49.5 56.5V50.5C49.5 49.1193 50.6193 48 52 48H63ZM42 51H47.5V56H42C41.7239 56 41.5 55.7761 41.5 55.5V51.5C41.5 51.2239 41.7239 51 42 51ZM133 60C136.59 60 139.5 57.0899 139.5 53.5C139.5 49.9101 136.59 47 133 47C129.41 47 126.5 49.9101 126.5 53.5C126.5 57.0899 129.41 60 133 60ZM133 61.5C137.418 61.5 141 57.9183 141 53.5C141 49.0817 137.418 45.5 133 45.5C128.582 45.5 125 49.0817 125 53.5C125 57.9183 128.582 61.5 133 61.5Z",fill:"currentColor"}),(0,t.jsx)("rect",{x:"73.5",y:"48",width:"35",height:"11",rx:"0.5",stroke:"currentColor"})]}),(0,t.jsx)("defs",{children:(0,t.jsx)("clipPath",{id:"clip0_4_40234",children:(0,t.jsx)("rect",{width:"216",height:"80",fill:"white",transform:"translate(0 0.5)"})})})]});var w=l(70473),Y=l(61813),Je=(n,s,e)=>new Promise((o,a)=>{var u=r=>{try{d(e.next(r))}catch(c){a(c)}},m=r=>{try{d(e.throw(r))}catch(c){a(c)}},d=r=>r.done?o(r.value):Promise.resolve(r.value).then(u,m);d((e=e.apply(n,s)).next())});const Ke=[p.M.Ethereum,p.M.Bitcoin,p.M.Binance],Qe=({ledgerConnectionError:n,setCurrentStep:s,setLedgerConnectionError:e})=>{(0,te.d)({event:w.pG.ONBOARDING_CONNECT_LEDGER_DEVICE,props:null});const{formatMessage:o}=(0,H.Z)(),{getApp:a}=ne(),{setLedgerApp:u}=oe(),{setCurrentFlow:m}=(0,Fe.A)(),[d,r]=(0,i.useState)(!1),[c,T]=(0,i.useState)(p.M.Ethereum),N=(0,i.useMemo)(()=>Object.keys(P).filter(C=>Ke.includes(C)).map(C=>({label:C,icon:P[C].icon,onClick:()=>T(C)})),[]),I=C=>Je(void 0,null,function*(){C.preventDefault(),e(!1),r(!0);try{const D=yield a(c);u(D),yield y.P.getAddress(D,0),setTimeout(()=>{s(A.Af.IMPORT_LEDGER_ADDRESS)},500)}catch(D){Y.Z.error(D),r(!1),e(!0)}}),S=()=>{m(A.j6.HOME)};return(0,t.jsxs)(le.C,{heading:o({id:"import-ledger-connect-device.heading"}),ledgerSelector:(0,t.jsx)(Ye,{title:c,icon:P[c].icon,actions:N}),activeTab:2,children:[n&&(0,t.jsx)(We,{})||d&&(0,t.jsx)(ze,{})||(0,t.jsxs)("div",{className:"flex flex-col space-y-6",children:[(0,t.jsx)(ue.Z,{children:(0,t.jsx)("div",{className:"flex justify-center py-8",children:(0,t.jsx)($e,{colorClass:"text-textSecondary"})})}),(0,t.jsx)(L.x,{type:f.Xi.SUBTITLE,theme:f.W5.SECONDARY,children:(0,t.jsx)("span",{className:"inline",children:o({id:"import-ledger-connect-device.open-app-description"},{strong:()=>(0,t.jsxs)("span",{className:"inline-flex items-baseline font-medium whitespace-nowrap mx-1",children:[(0,t.jsx)("span",{className:"mr-1 relative top-1.25",children:P[c].icon}),c]})})})}),(0,t.jsx)(ie.b,{theme:de.q.INFO,children:(0,t.jsx)("span",{className:"flex items-start",children:o({id:"import-ledger-connect-device.open-app-alert"},{network:c})})})]}),(0,t.jsx)(re.N,{buttonCancelProps:{onClick:S},buttonSubmitProps:{children:o({id:"import-ledger-connect.submit-button"}),onClick:I}})]})};var ke=l(11187),qe=l(44525),_e=l(74301),$=l(38195),pe=l(59078),et=l(81599),tt=(n,s,e)=>new Promise((o,a)=>{var u=r=>{try{d(e.next(r))}catch(c){a(c)}},m=r=>{try{d(e.throw(r))}catch(c){a(c)}},d=r=>r.done?o(r.value):Promise.resolve(r.value).then(u,m);d((e=e.apply(n,s)).next())});function st(n){return{fetch:(0,i.useCallback)(e=>tt(this,null,function*(){const o={[p.M.Ethereum]:$.G1.ethereum,[p.M.Binance]:$.G1.binance,[p.M.Solana]:$.G1.solana,[p.M.Bitcoin]:et.$.bitcoin};try{return(yield pe.Tl.emit(_e.Z.FETCH_BALANCE_FOR_ADDRESS,{blockchainId:o[n?.name],address:e})).balance}catch(a){Y.Z.error(a)}return"0"}),[n?.name])}}var fe=l(40845),nt=l(95583),rt=l(50533),lt=Object.defineProperty,ot=Object.defineProperties,ct=Object.getOwnPropertyDescriptors,he=Object.getOwnPropertySymbols,at=Object.prototype.hasOwnProperty,it=Object.prototype.propertyIsEnumerable,xe=(n,s,e)=>s in n?lt(n,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[s]=e,Ce=(n,s)=>{for(var e in s||(s={}))at.call(s,e)&&xe(n,e,s[e]);if(he)for(var e of he(s))it.call(s,e)&&xe(n,e,s[e]);return n},ge=(n,s)=>ot(n,ct(s)),ye=(n,s,e)=>new Promise((o,a)=>{var u=r=>{try{d(e.next(r))}catch(c){a(c)}},m=r=>{try{d(e.throw(r))}catch(c){a(c)}},d=r=>r.done?o(r.value):Promise.resolve(r.value).then(u,m);d((e=e.apply(n,s)).next())});function dt(n,s){const{fetch:e}=st(n),{detectApp:o}=ne(),[a,u]=(0,i.useState)(!0),[m,d]=(0,i.useState)(null),r=(0,i.useRef)(!1),c=(0,i.useMemo)(()=>n?we[n?.name]:null,[n]),T=(0,nt.C)({assetId:`c${c}`}),N=(0,rt.v9)(j=>j.wallet.accounts),[I,S]=(0,i.useState)([]),[C,D]=(0,i.useState)([]),[E,B]=(0,i.useState)([]),[F,Z]=(0,i.useState)(!1),K=(0,i.useCallback)(j=>B(E.filter(g=>g.address!==j)),[E]),V=(0,i.useCallback)(j=>B([...E,{address:j.address,ledgerAccountIndex:j.ledgerAccountIndex}]),[E]);return(0,i.useEffect)(()=>{if(Object.keys(E).length+Object.keys(N).length>=fe.AX)return Z(!0);Z(!1)},[E,F,N]),(0,i.useEffect)(()=>{function j(){return ye(this,null,function*(){if(!(!n||!T||r.current))try{r.current=!0,u(!0);const g=yield o(),b=[],G=[],x=[],O=[];if(g?.name===p.M.Binance){const v=yield y.P.getAddressBatch(g,s/R);v&&v.length>0&&b.push(...v);const h=yield y.P.getAddressBatch(g,s/R,"tbnb");h&&h.length>0&&G.push(...h)}else for(let v=s;v<s+R;v++){const h=yield y.P.getAddress(g,v);h&&b.push(h)}yield Promise.all(b.map((v,h)=>ye(this,null,function*(){const Q=yield e(v.address),k={fiat:Number(Q)*T.price,crypto:Q},q=!!Object.values(N??{}).find(Pe=>{var Te;return((Te=Pe[c])!=null?Te:{}).address===v.address}),W=ge(Ce({},v),{balance:k,alreadyAdded:q,ledgerAccountIndex:h});x.push(W)}))),G.forEach((v,h)=>{const k=!!Object.values(N??{}).find(q=>{var W;return((W=q[c])!=null?W:{}).address===v.address}),De=ge(Ce({},v),{balance:{fiat:0,crypto:"0"},alreadyAdded:k,ledgerAccountIndex:h});O.push(De)}),x.sort((v,h)=>v.balance.fiat===0&&h.balance.fiat===0?v.ledgerAccountIndex-h.ledgerAccountIndex:h.balance.fiat-v.balance.fiat);const M=x.find(v=>!v.alreadyAdded);M&&!E.length&&B([{address:M.address,ledgerAccountIndex:M.ledgerAccountIndex}]),S(x),D(O)}catch(g){d(g),Y.Z.error(g)}finally{r.current=!1,u(!1)}})}j()},[s]),{isLoading:a,selectedAccounts:E,accounts:I,tAccounts:C,reachedMaximumAmountOfWallets:F,removeAccount:K,addAccount:V,error:m}}var ut=(n,s,e)=>new Promise((o,a)=>{var u=r=>{try{d(e.next(r))}catch(c){a(c)}},m=r=>{try{d(e.throw(r))}catch(c){a(c)}},d=r=>r.done?o(r.value):Promise.resolve(r.value).then(u,m);d((e=e.apply(n,s)).next())});function vt(){return{getLedgerDeviceName:(0,i.useCallback)(()=>ut(this,null,function*(){const e=(yield navigator.usb.getDevices()).find(o=>o.manufacturerName==="Ledger");return`${e.manufacturerName} ${e.productName}`}),[])}}var mt=l(77985),pt=l(1942),ft=l(88813),Ae=l(82715),Ee=l(10121),ht=l(89171);const xt=({appName:n,address:s,balance:e,selected:o,disabled:a,alreadyAdded:u,currency:m,setSelectedWalletAddress:d,removeSelectedWalletAddress:r})=>{const{formatMessage:c}=(0,H.Z)(),T=()=>{if(o)return r(s);a||d(s)};return(0,t.jsx)(pt.e,{disabled:u||a,onClick:T,children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:`flex justify-center items-center w-4 h-4 ${o?"bg-primary":"border-2 border-iconNormal"}`,children:o&&(0,t.jsx)(ft.n,{colorClass:"text-backgroundPrimary"})}),P[n].icon,(0,t.jsxs)("div",{className:"flex flex-col space-y-1 text-start",children:[(0,t.jsx)(L.x,{children:(0,ht.j)({value:s,maxCharsPerSide:7})}),(0,t.jsxs)("div",{className:"flex space-x-1",children:[(0,t.jsx)(Ae.l,{amountType:Ee.F.CRYPTO,value:Number(Number(e.crypto).toFixed(5)),textType:f.Xi.SUBTITLE,theme:f.W5.SECONDARY,currency:m}),(0,t.jsx)(Ae.l,{amountType:Ee.F.FIAT,value:e.fiat,textType:f.Xi.SUBTITLE,theme:f.W5.SECONDARY,prefix:"(~",suffix:")"})]})]})]}),u&&(0,t.jsx)(mt.C,{text:c({id:"import-ledger-select-account.item.already-added"})})]})})};var Ct=l(76579),gt=l(58010),yt=l(41837),At=l(59729),Et=l(48407),jt=l(27590),J=(n,s,e)=>new Promise((o,a)=>{var u=r=>{try{d(e.next(r))}catch(c){a(c)}},m=r=>{try{d(e.throw(r))}catch(c){a(c)}},d=r=>r.done?o(r.value):Promise.resolve(r.value).then(u,m);d((e=e.apply(n,s)).next())});const Lt=27404,Nt=({setCurrentStep:n})=>{(0,te.d)({event:w.pG.ONBOARDING_IMPORT_LEDGER_ADDRESSES,props:null});const{formatMessage:s}=(0,H.Z)(),{ledgerApp:e}=oe(),{getLedgerDeviceName:o}=vt(),{trackAnalytics:a,isAnalyticsEnabled:u}=(0,qe.z)(),{data:{password:m},update:d}=(0,i.useContext)(ke.t),[r,c]=(0,i.useState)(!1),[T,N]=(0,i.useState)(""),[I,S]=(0,i.useState)(0),{reachedMaximumAmountOfWallets:C,selectedAccounts:D,accounts:E,tAccounts:B,removeAccount:F,addAccount:Z,isLoading:K,error:V}=dt(e,I),j=(0,i.useMemo)(()=>P[e?.name].symbol,[e?.name]),g=()=>J(void 0,null,function*(){N(yield o())}),b=()=>J(void 0,null,function*(){if(!e)return n(A.Af.CONNECT_LEDGER_DEVICE);try{c(!0),yield Promise.all(D.map(x=>J(void 0,[x],function*({address:O,ledgerAccountIndex:M}){const v=B.find(h=>h.ledgerAccountIndex===M);yield pe.Tl.emit(At.Z.IMPORT_LEDGER_ADDRESS,{address:O,testnetAddress:e.name===p.M.Binance?v?.address:null,ledgerAccountIndex:M,password:m,preventSwitch:!0,appName:e.name})}))),a({event:w.ih.WALLET_CREATED,forceTracking:u===null,props:{pageViewSource:w.pG.ONBOARDING_IMPORT_LEDGER_ADDRESSES,walletType:Et.S.HARDWARE,connectedLedgerApp:e.name}}),d({password:""}),n(A.Af.ACCEPT_ANALYTICS)}catch{c(!1)}}),G=()=>{n(A.Af.CONNECT_LEDGER_DEVICE)};return(0,i.useEffect)(()=>{g()},[o]),(0,i.useEffect)(()=>{V instanceof jt.rZ&&V.statusCode===Lt&&G()},[V]),(0,t.jsxs)(le.C,{heading:s({id:"import-ledger-select-account.heading"}),subHeading:s({id:"import-ledger-select-account.subheading"}),activeTab:3,children:[(0,t.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,t.jsx)(ue.Z,{children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(yt.y,{colorClass:"text-iconNormal"}),(0,t.jsxs)("div",{className:"flex flex-col text-start",children:[(0,t.jsx)(L.x,{type:f.Xi.SUBTITLE,children:s({id:"import-ledger-select-account.input-placeholder"})}),(0,t.jsx)(L.x,{type:f.Xi.SUBTITLE,weight:f.kx.MEDIUM,children:T})]})]})}),C&&(0,t.jsx)(ie.b,{theme:de.q.WARNING,children:s({id:"import-ledger-select-account.reached-max-warning"},{b:()=>(0,t.jsx)("b",{children:fe.AX})})})]}),K?(0,t.jsxs)("div",{className:"flex flex-col items-center !my-16",children:[(0,t.jsx)(ae.$,{size:ce.m.XLARGE}),(0,t.jsx)(L.x,{theme:f.W5.SECONDARY,children:s({id:"import-ledger-select-account.spinner.description-new"},{chain:e?.name})})]}):(0,t.jsxs)("div",{className:"flex flex-col space-y-6",children:[(0,t.jsx)("ul",{className:"w-full space-y-6",children:E?.map(x=>(0,t.jsx)("li",{children:(0,t.jsx)(xt,{appName:e?.name,address:x.address,balance:x.balance,currency:j,alreadyAdded:x.alreadyAdded,disabled:C,selected:D.some(O=>O.address===x.address)||x.alreadyAdded,setSelectedWalletAddress:()=>Z(x),removeSelectedWalletAddress:F})},x.address))}),(0,t.jsxs)("div",{className:"flex items-center space-x-6 mx-auto",children:[(0,t.jsx)("div",{className:"flex",children:(0,t.jsx)(z.z,{theme:U.jM.TRANSPARENT,noPadding:!0,disabled:!I,onClick:()=>S(I-R),children:(0,t.jsx)(Ct.Y,{colorClass:"text-iconNormal"})})}),(0,t.jsx)("div",{className:"flex",children:(0,t.jsx)(z.z,{theme:U.jM.TRANSPARENT,noPadding:!0,onClick:()=>S(I+R),children:(0,t.jsx)(gt.L,{colorClass:"text-iconNormal"})})})]})]}),(0,t.jsx)(re.N,{buttonCancelProps:{onClick:G},buttonSubmitProps:{onClick:b,loading:r,disabled:!D.length||r,children:s({id:"import-ledger-select-account.submit"})}})]})};var Dt=Object.defineProperty,Pt=Object.defineProperties,Tt=Object.getOwnPropertyDescriptors,je=Object.getOwnPropertySymbols,It=Object.prototype.hasOwnProperty,St=Object.prototype.propertyIsEnumerable,Le=(n,s,e)=>s in n?Dt(n,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[s]=e,Ne=(n,s)=>{for(var e in s||(s={}))It.call(s,e)&&Le(n,e,s[e]);if(je)for(var e of je(s))St.call(s,e)&&Le(n,e,s[e]);return n},Ot=(n,s)=>Pt(n,Tt(s));const Mt=Ot(Ne({},Ie.globalSteps),{[A.Af.CONNECT_LEDGER_DEVICE]:Qe,[A.Af.IMPORT_LEDGER_ADDRESS]:Nt}),Rt=()=>{const[n,s]=(0,i.useState)(A.Af.CREATE_VERIFY_PASSWORD),[e,o]=(0,i.useState)(!1),a=Mt[n];return(0,i.useEffect)(()=>{e&&s(A.Af.CONNECT_LEDGER_DEVICE)},[e]),(0,t.jsx)(Se,{children:(0,t.jsx)(a,Ne({setCurrentStep:s},n===A.Af.CONNECT_LEDGER_DEVICE&&{setLedgerConnectionError:o,ledgerConnectionError:e}||n===A.Af.IMPORT_LEDGER_ADDRESS&&{setLedgerConnectionError:o}))})}}}]);
