"use strict";(self.webpackChunkbrowser_extension_wallet=self.webpackChunkbrowser_extension_wallet||[]).push([[843],{72843:(Pe,b,s)=>{s.r(b),s.d(b,{App:()=>zt,Page:()=>Yt,default:()=>dn});var e=s(85893),M=s(13920),y=s(64064),j=s(82911),o=s(67294),g=Object.defineProperty,v=Object.defineProperties,h=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,W=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable,Z=(t,n,a)=>n in t?g(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,$=(t,n)=>{for(var a in n||(n={}))W.call(n,a)&&Z(t,a,n[a]);if(p)for(var a of p(n))B.call(n,a)&&Z(t,a,n[a]);return t},H=(t,n)=>v(t,h(n));const w=(0,o.createContext)({getAsset:t=>null,setAsset:(t,n)=>{}}),G=5,S=({children:t})=>{const[n,a]=(0,o.useState)({});function d(){return new Date().getTime()}function c(){return d()+G*60*1e3}const l={getAsset:m=>n[m]&&d()<=n[m].expiresAt?n[m]:null,setAsset:(m,f)=>{a(i=>H($({},i),{[m]:H($({},f),{expiresAt:c()})}))}};return(0,e.jsx)(w.Provider,{value:l,children:t})};var de=s(87943),ue=s(77985),K=s(88813),z=s(99244),ee=s(75198),te=s(82715),T=s(48303),r=s(45618),oe=s(10121);const Ue=({symbol:t,name:n,iconUrl:a,blockchain:d,value:c,disabled:l,balance:m})=>(0,e.jsx)(ee.E.Option,{value:c,disabled:l,className:"cursor-pointer",children:({checked:f})=>(0,e.jsxs)("div",{className:`flex items-center justify-between ${l?"opacity-50":"opacity-100"}`,children:[(0,e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,e.jsx)(z.C,{src:a,name:n,network:d}),(0,e.jsxs)("div",{className:"flex flex-col",children:[(0,e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,e.jsx)(T.x,{testid:"asset-record-symbol",type:r.Xi.TITLE,theme:f?r.W5.BRAND:r.W5.PRIMARY,children:t}),d.displayName&&(0,e.jsx)(ue.C,{text:d.displayName})]}),(0,e.jsx)(T.x,{testid:"asset-record-name",type:r.Xi.TITLE,theme:r.W5.THIRD,children:n})]})]}),(0,e.jsxs)("div",{className:"flex items-center space-x-1",children:[m&&parseFloat(m)>0&&(0,e.jsx)(te.l,{testid:"asset-record-balance",amountType:oe.F.CRYPTO,value:parseFloat(m),textType:r.Xi.TITLE,theme:f?r.W5.BRAND:r.W5.PRIMARY}),f&&(0,e.jsx)(K.n,{colorClass:"text-primary"})]})]})}),Fe="c20000714",Ie=["c60","c20000714","c966","c10009000","c10042221","c10000070","c10000250","c52752","c459","c59144","c8453","c501"];var ke=s(56230),be=s(85942),ve=s(34601),Te=s(87326),se=s(58110),Ge=s(73331),E=Object.defineProperty,N=Object.defineProperties,L=Object.getOwnPropertyDescriptors,V=Object.getOwnPropertySymbols,ne=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable,ge=(t,n,a)=>n in t?E(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Ae=(t,n)=>{for(var a in n||(n={}))ne.call(n,a)&&ge(t,a,n[a]);if(V)for(var a of V(n))re.call(n,a)&&ge(t,a,n[a]);return t},fe=(t,n)=>N(t,L(n));const Ee=t=>{const n=(0,Te.R)(),a=(0,Ge.f)(),d=(0,se.$)();return(0,o.useMemo)(()=>t.reduce((c,l)=>{const m=d.find(f=>f.id===l.assetId);return c.push(fe(Ae({},l),{fiat:m,blockchain:n[l.blockchainId],balance:a[l.assetId]||"0"})),c},[]).sort(ve.wO),[t,a,d,n])},R=t=>{const n=(0,be.EQ)(),a=(0,o.useMemo)(()=>n.find(d=>t===d.assetId),[n,t]);return Ee(a?[a]:[])},Ce=()=>{const t=(0,be.EQ)(),n=(0,o.useMemo)(()=>t.filter(l=>Ie.includes((0,ve.tI)(l.assetId))),[t]),a=(0,Te.R)(),d=(0,ke.N6)(Fe),c=Ee(n);return(0,o.useMemo)(()=>{const l=c.filter(f=>!!parseFloat(f.balance)),m=fe(Ae({},d),{blockchain:a[d.blockchainId]});return l.length>0?l[0]:m},[c,a,d])};var je=s(74028),Ze=s(1561),Se=s(33500),he=s(69671),Je=s(36117),Ke=s(96486),Q=s(86896),$e=Object.defineProperty,_e=Object.defineProperties,at=Object.getOwnPropertyDescriptors,pe=Object.getOwnPropertySymbols,qe=Object.prototype.hasOwnProperty,Oe=Object.prototype.propertyIsEnumerable,Ne=(t,n,a)=>n in t?$e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,ye=(t,n)=>{for(var a in n||(n={}))qe.call(n,a)&&Ne(t,a,n[a]);if(pe)for(var a of pe(n))Oe.call(n,a)&&Ne(t,a,n[a]);return t},ot=(t,n)=>_e(t,at(n));const Me=({header:t,defaultAssets:n,reservedAsset:a,scopedBlockchain:d,selectedAsset:c,onAssetSelect:l,opened:m,onClose:f})=>{const{formatMessage:i}=(0,Q.Z)(),A=R(d),x=(0,Te.R)(),[P,u]=(0,o.useState)(""),[F,U]=(0,o.useState)(!1),{flattenData:Y,isFetching:k,setQuery:ie}=(0,Je.e)([d]),O=P.length>0?{search:{title:i({id:"asset-selection-modal.search-results-category"}),items:[...A.filter(C=>C.symbol.toLowerCase().includes(P.toLowerCase())||C.name.toLowerCase().includes(P.toLowerCase())),...Y.map(C=>ot(ye({},C),{blockchain:x[C.blockchainId]}))]}}:n,ce=(0,o.useCallback)((0,Ke.debounce)(C=>{ie(C)},400),[]);function xe(C){u(C.target.value)}function we(C){let X;for(const Le of Object.keys(O))if(X=O[Le].items.find(He=>He.assetId===C),X){l(X);break}me()}function me(){u(""),f()}return(0,o.useEffect)(()=>{const C=ce;return P.length>0?(U(!0),C(P)):U(!1),()=>C.cancel()},[P]),(0,o.useEffect)(()=>{k||U(!1)},[k]),(0,e.jsx)(Se.u,{title:t,opened:m,onClose:me,children:(0,e.jsxs)("div",{className:"flex flex-col min-h-[400px] space-y-4",children:[(0,e.jsx)(je.M,{testid:"assets-search-input",placeholder:i({id:"asset-selection-modal.input-placeholder"}),value:P,onChange:xe}),F?(0,e.jsx)("div",{className:"flex justify-center",children:(0,e.jsx)(he.$,{})}):(0,e.jsx)(ee.E,{value:c,onChange:we,children:Object.keys(O).filter(C=>O[C].items.length>0||P!=="").map(C=>(0,e.jsx)(Ze.W,{title:O[C].title,children:O[C].items.length>0?O[C].items.map(X=>(0,e.jsx)(Ue,{name:X.name,symbol:X.symbol,iconUrl:X.iconUrl,blockchain:X.blockchain,balance:X.balance,value:X.assetId,disabled:a===X.assetId},X.assetId)):(0,e.jsx)(de.i,{})},C))})]})})},Re=50,rt=10,lt=Re-rt*2,et=lt*2*Math.PI,tt=({progress:t})=>{const n=et-t/100*et;return(0,e.jsx)("div",{className:"relative w-6 h-6",children:(0,e.jsxs)("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[(0,e.jsx)("circle",{className:"text-backgroundTertiary stroke-current",strokeWidth:rt,cx:Re,cy:Re,r:lt,fill:"transparent"}),(0,e.jsx)("circle",{className:"text-primary -rotate-90 origin-[50%_50%] progress-ring__circle stroke-current",style:{transition:"stroke-dashoffset 0.35s"},strokeWidth:rt,strokeLinecap:"round",cx:Re,cy:Re,r:lt,fill:"transparent",strokeDasharray:`${et} ${et}`,strokeDashoffset:n})]})})},it=31,I=100,le=it*1e3/I,ae=({isLoading:t,rate:n,runCountdown:a,onCountdownFinish:d})=>{const{formatMessage:c}=(0,Q.Z)(),[l,m]=(0,o.useState)(0),f=(it-l)*1e3/le;return(0,o.useEffect)(()=>{let i;return l>1?i=setTimeout(()=>{m(A=>A-1)},1e3):l===1&&d(),()=>{clearTimeout(i)}},[l]),(0,o.useEffect)(()=>{m(a?it:0)},[a]),(0,e.jsx)("div",{className:"flex items-center space-x-2",children:(0,e.jsx)("div",{className:`flex items-center space-x-1 min-h-6 ${t?"opacity-50":"opacity-100"}`,children:n?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(tt,{progress:f}),(0,e.jsxs)(T.x,{theme:r.W5.SECONDARY,children:[n.fromAsset.amount," ",n.fromAsset.symbol]}),(0,e.jsx)(T.x,{theme:r.W5.SECONDARY,children:"="}),(0,e.jsxs)(T.x,{theme:r.W5.SECONDARY,children:[n.toAsset.amount," ",n.toAsset.symbol]})]}):(0,e.jsxs)(T.x,{theme:r.W5.SECONDARY,children:[c({id:"dashboard.find-best-price"}),"..."]})})})},We=({name:t,iconUrl:n,value:a})=>(0,e.jsx)(ee.E.Option,{value:a,className:"cursor-pointer",children:({checked:d})=>(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,e.jsx)(z.C,{src:n,name:t}),(0,e.jsx)(T.x,{type:r.Xi.TITLE,theme:d?r.W5.BRAND:r.W5.PRIMARY,children:t})]}),(0,e.jsx)("div",{className:"flex items-center space-x-1",children:d&&(0,e.jsx)(K.n,{colorClass:"text-primary"})})]})});function J(){const t=(0,Te.R)(!0);return(0,o.useMemo)(()=>t.filter(n=>Ie.includes((0,ve.tI)(n.coinId))),[Ie,t])}const Ye=({selectedNetwork:t,onNetworkSelect:n,opened:a,onClose:d})=>{const{formatMessage:c}=(0,Q.Z)(),l=J(),[m,f]=(0,o.useState)(""),i=m.length>0?l.filter(u=>{var F;const U=m.toLowerCase().trim();return u.symbol.toLowerCase().includes(U)||u.name.toLowerCase().includes(U)||((F=u.displayName)==null?void 0:F.toLowerCase().includes(U))}):l;function A(u){f(u.target.value)}function x(u){const F=l.find(U=>U.id===u);F&&n(F),P()}function P(){f(""),d()}return(0,e.jsx)(Se.u,{title:c({id:"network-selection-modal.choose-network"}),opened:a,onClose:P,children:(0,e.jsxs)("div",{className:"flex flex-col min-h-[400px] space-y-4",children:[(0,e.jsx)(je.M,{placeholder:c({id:"network-selection-modal.input-placeholder"}),value:m,onChange:A}),(0,e.jsx)(ee.E,{value:t,onChange:x,className:"space-y-4",children:i.length>0?i.map(u=>{var F;return(0,e.jsx)(We,{name:(F=u.displayName)!=null?F:u.name,iconUrl:u.iconUrl,value:u.id},u.id)}):(0,e.jsx)(de.i,{})})]})})};var ze=s(49756),is=s(83522),Dt=s(42437);const cs=0,ds=50,Pt="2",us=({defaultSlippage:t=Pt,onSave:n,opened:a,onClose:d})=>{const{formatMessage:c}=(0,Q.Z)(),[l,m]=(0,o.useState)(t);function f(x){const P=x.target.value,u=Number(P);isNaN(u)||u<cs||u>ds||!/^[0-9]*\.?[0-9]{0,1}$/.test(P)||m(u.toString())}function i(){n(l),d()}function A(){d(),m(t)}return(0,o.useEffect)(()=>{m(t)},[t]),(0,e.jsx)(Se.u,{title:c({id:"swap-details.slippage-tolerance"}),opened:a,onClose:A,children:(0,e.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,e.jsx)(is.o,{type:Dt.rC.NUMBER,value:l,onChange:f}),(0,e.jsx)(ze.z,{onClick:i,"data-testid":"save-slippage-button",children:c({id:"generic.save"})})]})})};var De=s(59078),ct=s(2317),ps=s(66621),wt=s(12790),ms=(t,n,a)=>new Promise((d,c)=>{var l=i=>{try{f(a.next(i))}catch(A){c(A)}},m=i=>{try{f(a.throw(i))}catch(A){c(A)}},f=i=>i.done?d(i.value):Promise.resolve(i.value).then(l,m);f((a=a.apply(t,n)).next())});const Xe=t=>{const n=(0,se.$)(),{getAsset:a}=(0,o.useContext)(w);return(0,o.useMemo)(()=>{var d;if(!t)return null;const c=a(t);if(c)return c.price;const l=(d=n.find(m=>m.id===t))==null?void 0:d.price.toString();return l??null},[t])},vs=(t,n)=>{var a;const[d,c]=(0,o.useState)("0"),[l,m]=(0,o.useState)("0"),[f,i]=(0,o.useState)(!1),{getAsset:A,setAsset:x}=(0,o.useContext)(w),P=(0,ps.K)((a=t?.assetId)!=null?a:""),u=(0,se.$)(),F=(0,o.useMemo)(()=>{var Y;if(t)return(Y=u.find(k=>k.id===t.assetId))==null?void 0:Y.price.toString()},[t?.assetId]),U=parseFloat(n)*parseFloat(F??l);return(0,o.useEffect)(()=>{(()=>ms(void 0,null,function*(){if(t&&(c(P),P==="0"&&!F)){let Y="0",k="0";const ie=A(t.assetId);if(ie)Y=ie.balance,k=ie.price;else{i(!0);const O=yield De.Tl.emit(ct.Z.FETCH_SWAP_ASSET_BALANCE,t);Y=O.balance,k=O.price,x(t.assetId,O)}c(Y),m(k)}}))().catch(wt.G1).finally(()=>i(!1))},[t?.assetId]),{walletBalance:d,fiatAmount:U,isLoading:f}};var fs=s(81146),Be=s(63118),Lt=s(83954),hs=s(73857),xs=s(59493),ht=s(76887),st=s(13012),q=(t=>(t.FROM="FROM",t.TO="TO",t))(q||{}),It=s(1942),Ft=s(32193),bt=s(24205),gs=s(59197),As=s(2608),Es=s(68635),Os=s(9274),Ps=(t,n,a)=>new Promise((d,c)=>{var l=i=>{try{f(a.next(i))}catch(A){c(A)}},m=i=>{try{f(a.throw(i))}catch(A){c(A)}},f=i=>i.done?d(i.value):Promise.resolve(i.value).then(l,m);f((a=a.apply(t,n)).next())});const Wt=({origin:t,network:n,asset:a,amount:d,priceImpact:c,isLoading:l=!1,disabled:m=!1,children:f,onAmountChange:i,onNetworkClick:A,onTokenClick:x,onAmountExcess:P,testid:u})=>{var F;const{formatMessage:U}=(0,Q.Z)(),Y=(0,Es.X)(),{walletBalance:k,fiatAmount:ie,isLoading:O}=vs(a,d.length>0?d:"0"),ce=parseFloat(k)>0,xe=t===q.FROM&&(ce||a?.isBuyCryptoEnabled),we=t===q.TO&&l,me=(0,Os.l)(Number(k),5),C=(()=>{if(!O&&t===q.FROM)try{return new st.Z(d).gt(k)}catch{}return!1})(),X=o.Children.toArray(f).filter(Boolean).length>0,Le=c&&parseFloat(c)!==0,He=Le&&parseFloat(c)>0;function pt(){a&&i?.(me.toString())}function mt(){return Ps(this,null,function*(){yield Y(`${j.Z.BUY}/${a?.assetId}`)})}return(0,o.useEffect)(()=>{P?.(C)},[C]),(0,e.jsxs)(Lt.Z,{error:C,noPadding:!0,children:[(0,e.jsxs)("div",{className:"flex flex-col space-y-3.75 p-4",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,e.jsx)(T.x,{theme:r.W5.SECONDARY,type:r.Xi.CAPTION,children:U({id:`generic.${t===q.FROM?"from":"to"}`})}),(0,e.jsx)(It.e,{onClick:()=>A(t),children:(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)(z.C,{src:n.iconUrl,name:n.name,size:Ft.m.XXSMALL}),(0,e.jsx)("div",{className:"ml-1 mr-px",children:(0,e.jsx)(T.x,{type:r.Xi.CAPTION,theme:r.W5.SECONDARY,weight:r.kx.MEDIUM,children:(F=n.displayName)!=null?F:n.name})}),(0,e.jsx)(bt.X,{width:16,height:16,colorClass:"text-iconNormal"})]})})]}),a&&(0,e.jsx)("div",{className:"flex flex-1 items-center justify-end",children:O?(0,e.jsx)(ht.A,{widthClass:"w-22.5",heightClass:"h-4"}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(hs.o,{colorClass:"text-iconNormal"}),(0,e.jsx)("div",{className:"flex ml-1.25",children:(0,e.jsx)(T.x,{testid:u+"-wallet-balance",type:r.Xi.CAPTION,theme:r.W5.SECONDARY,children:me})}),xe&&(0,e.jsx)("div",{className:"ml-2.5",children:(0,e.jsx)(ze.z,{testid:u+"-max-button",theme:Be.jM.INVERSE_BRAND,shape:Be.AX.TINY,disabled:m,onClick:ce?pt:mt,children:(0,e.jsx)(T.x,{theme:r.W5.BRAND,type:r.Xi.CAPTION,weight:r.kx.MEDIUM,children:ce?"Max":U({id:"generic.buy"})})})})]})})]}),(0,e.jsxs)("div",{className:"flex items-center justify-between space-x-2",children:[a?(0,e.jsx)(fs.G,{testid:u+"-asset-selector",iconUrl:a.iconUrl,symbol:a.symbol,onClick:()=>x(t)}):(0,e.jsxs)("div",{className:"flex items-center space-x-2.5",children:[(0,e.jsx)(ze.z,{testid:u+"-asset-selector-empty",onClick:()=>x(t),shape:Be.AX.CIRCLE,theme:Be.jM.INVERSE_BRAND,fullWidth:!1,children:(0,e.jsx)(gs.p,{width:20,height:20,colorClass:"text-primary"})}),(0,e.jsx)(It.e,{onClick:()=>x(t),children:(0,e.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,e.jsx)(T.x,{type:r.Xi.TITLE,weight:r.kx.SEMIBOLD,children:U({id:"dashboard.select-token"})}),(0,e.jsx)(bt.X,{width:20,height:20,colorClass:"text-iconNormal"})]})})]}),a?(0,e.jsxs)("div",{className:"flex flex-col w-full items-end space-y-1 overflow-hidden",children:[t===q.FROM?(0,e.jsx)(xs.Z,{testid:u+"-amount-input",placeholder:"0",value:d,disabled:m,amountType:Dt.G7.CRYPTO,onChange:Ve=>i?.(Ve)}):l?(0,e.jsx)(ht.A,{widthClass:"w-40",heightClass:"h-8"}):(0,e.jsx)(te.l,{fitFontSizeToContainer:!0,testid:u+"-amount-input-readonly",amountType:oe.F.CRYPTO,textType:r.Xi.HEADLINE,value:d}),O||we?(0,e.jsx)(ht.A,{widthClass:"w-28",heightClass:"h-4"}):C?(0,e.jsx)(T.x,{type:r.Xi.CAPTION,theme:r.W5.ERROR,weight:r.kx.MEDIUM,children:U({id:"dashboard.balance-exceeded"})}):(0,e.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,e.jsx)(te.l,{testid:u+"-amount-fiat",textType:r.Xi.CAPTION,theme:r.W5.SECONDARY,weight:r.kx.NORMAL,prefix:ie>0?"\u2248":"",amountType:oe.F.FIAT,value:ie}),Le&&(0,e.jsxs)(T.x,{type:r.Xi.CAPTION,weight:r.kx.MEDIUM,theme:He?r.W5.SUCCESS:r.W5.ERROR,children:["(",He&&"+",c,"%)"]})]})]}):(0,e.jsx)("div",{className:"flex text-end",children:(0,e.jsx)(T.x,{type:r.Xi.HEADLINE,children:"0"})})]})]}),X&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(As.i,{noMargin:!0}),(0,e.jsx)("div",{className:"px-4 py-2",children:f})]})]})},nt=({label:t,loading:n,children:a})=>(0,e.jsxs)("li",{className:"flex items-center justify-between py-2 h-8",children:[(0,e.jsx)(T.x,{type:r.Xi.CAPTION,theme:r.W5.SECONDARY,children:t}),(0,e.jsx)("div",{className:"flex items-center space-x-1.25",children:n?(0,e.jsx)(ht.A,{widthClass:"w-22.5",heightClass:"h-4"}):a})]});var Is=s(46146);const ys=({isLoading:t,disabled:n,receiveAsset:a,minimumAmount:d,provider:c,fees:l,slippage:m,openSlippageModal:f})=>{var i,A,x,P;const{formatMessage:u}=(0,Q.Z)(),F=Xe((i=l.gas.breakdown[0])==null?void 0:i.assetId),U=Xe((A=l.routing.breakdown[0])==null?void 0:A.assetId),Y=Xe((x=l.provider.breakdown[0])==null?void 0:x.assetId),k=Xe(a.assetId),ie=l.gas.total*(F?parseFloat(F):0),O=l.routing.total*(U?parseFloat(U):0),ce=l.provider.total*(Y?parseFloat(Y):0),xe=parseFloat(d)*(k?parseFloat(k):0);return(0,e.jsx)(Lt.Z,{children:(0,e.jsxs)("ul",{children:[(0,e.jsxs)(nt,{label:u({id:"swap-details.provider"}),loading:t,children:[(0,e.jsx)(z.C,{src:c?.favIconUrl,name:(P=c?.title)!=null?P:"",size:Ft.m.XSMALL}),(0,e.jsx)(T.x,{type:r.Xi.CAPTION,weight:r.kx.MEDIUM,children:c?.title})]}),l.provider.total>0&&(0,e.jsxs)(nt,{label:u({id:"swap-details.provider-fee"}),loading:t,children:[(0,e.jsxs)(T.x,{type:r.Xi.CAPTION,weight:r.kx.MEDIUM,children:[l.provider.total," ",l.provider.breakdown[0].symbol]}),ce>0&&(0,e.jsx)(te.l,{textType:r.Xi.CAPTION,theme:r.W5.THIRD,amountType:oe.F.FIAT,value:ce,prefix:"(\u2248",suffix:")"})]}),l.routing.total>0&&(0,e.jsxs)(nt,{label:u({id:"swap-details.routing-fee"}),loading:t,children:[(0,e.jsxs)(T.x,{type:r.Xi.CAPTION,weight:r.kx.MEDIUM,children:[l.routing.total," ",l.routing.breakdown[0].symbol]}),O>0&&(0,e.jsx)(te.l,{textType:r.Xi.CAPTION,theme:r.W5.THIRD,amountType:oe.F.FIAT,value:O,prefix:"(\u2248",suffix:")"})]}),l.gas.total>0&&(0,e.jsxs)(nt,{label:u({id:"swap-details.network-fee"}),loading:t,children:[(0,e.jsxs)(T.x,{type:r.Xi.CAPTION,weight:r.kx.MEDIUM,children:[l.gas.total," ",l.gas.breakdown[0].symbol]}),ie>0&&(0,e.jsx)(te.l,{textType:r.Xi.CAPTION,theme:r.W5.THIRD,amountType:oe.F.FIAT,value:ie,prefix:"(\u2248",suffix:")"})]}),(0,e.jsxs)(nt,{label:u({id:"swap-details.minimum-amount-receive"}),loading:t,children:[(0,e.jsxs)(T.x,{testid:"swap-min-amount",type:r.Xi.CAPTION,weight:r.kx.MEDIUM,children:[d," ",a.symbol]}),xe>0&&(0,e.jsx)(te.l,{textType:r.Xi.CAPTION,theme:r.W5.THIRD,amountType:oe.F.FIAT,value:xe,prefix:"(\u2248",suffix:")"})]}),(0,e.jsxs)(nt,{label:u({id:"swap-details.slippage-tolerance"}),loading:t,children:[(0,e.jsxs)(T.x,{testid:"swap-slippage",type:r.Xi.CAPTION,weight:r.kx.MEDIUM,children:[m,"%"]}),(0,e.jsx)(ze.z,{disabled:n,onClick:f,theme:Be.jM.TRANSPARENT,noPadding:!0,children:(0,e.jsx)(Is.v,{colorClass:"text-iconNormal"})})]})]})})};var Ts=Object.defineProperty,Cs=Object.defineProperties,js=Object.getOwnPropertyDescriptors,Bt=Object.getOwnPropertySymbols,Ss=Object.prototype.hasOwnProperty,Ns=Object.prototype.propertyIsEnumerable,Ut=(t,n,a)=>n in t?Ts(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Ms=(t,n)=>{for(var a in n||(n={}))Ss.call(n,a)&&Ut(t,a,n[a]);if(Bt)for(var a of Bt(n))Ns.call(n,a)&&Ut(t,a,n[a]);return t},Rs=(t,n)=>Cs(t,js(n));const Ds=(t,n,a,d,c,l)=>{const{formatMessage:m}=(0,Q.Z)(),f=(0,ve.tI)(t===q.FROM?a.coinId:c.coinId),i=R(f),A=(0,o.useMemo)(()=>{const u=[...i,...n?n[t===q.FROM?a.id:c.id]:[]];return i.length&&u.sort(ve.wO),u},[i[0].assetId,n,a.id,c.id]),x=(0,o.useMemo)(()=>A.filter(u=>!!parseFloat(u.balance)),[A]),P=(0,o.useMemo)(()=>A.filter(u=>!parseFloat(u.balance)),[A]);return{headerText:t===q.FROM?m({id:"asset-selection-modal.you-pay"}):m({id:"asset-selection-modal.you-get"}),defaultAssets:Rs(Ms({},x.length>0?{balance:{title:m({id:"asset-selection-modal.balance-category"}),items:x}}:{}),{without:{title:P.length===0?"":m({id:"asset-selection-modal.rest-of-crypto-category"}),items:P}}),scopedBlockchain:f,reservedAsset:t===q.FROM?l?.assetId:d.assetId,selectedAsset:t===q.FROM?d.assetId:l?.assetId}};var ws=s(24044);const Ls=(t,n,a,d,c,l)=>{const m=!!t&&!!n,f=m&&t.assetId===n.assetId,i=parseFloat(a)>0,A=m&&!f&&i,x=A&&!d,P=c.length>0,u=l.length>0;return{isPairSet:m,isPairIdentical:f,hasSpendAmount:i,canGetQuote:A,isSwapAllSet:x,hasQuoteError:P,hasTxError:u}};var Fs=s(19096),bs=s(37632);const kt=24,Gt=24,Ws=({width:t,height:n,colorClass:a})=>(0,e.jsxs)("svg",{className:a,fill:"none",width:t??kt,height:n??Gt,viewBox:`0 0 ${kt} ${Gt}`,xmlns:"http://www.w3.org/2000/svg",children:[(0,e.jsx)("path",{d:"M16.5 21L13.5 21L13.5 2.5L20.5 9.5L16.5 9.5L16.5 21Z",fill:"currentColor"}),(0,e.jsx)("path",{d:"M7.49999 3L10.5 3L10.5 21.5L3.5 14.5L7.49999 14.5L7.49999 3Z",fill:"currentColor"})]});var Bs=s(69124),yt=s(48161),Us=s(74301),Tt=s(30199);const ks="FAILED_QUOTE_GENERATION",Gs="FAILED_APPROVAL_TRANSACTION_PAYLOAD_GENERATION",Ks="FAILED_SWAP_TRANSACTION_PAYLOAD_GENERATION";var Kt=s(44180),Xs=s(90538),Hs=s(89250),Zs=s(44525),dt=s(70473),$s=s(17889);const _s=({quote:t,receiveAsset:n,receiveAmount:a,slippage:d,spendAsset:c,spendAmount:l})=>{var m,f,i;const{trackAnalytics:A}=(0,Zs.z)(),x=(0,se.$)(),P=(0,$s.Z)(),u=Xe((m=t.fees.gas.breakdown[0])==null?void 0:m.assetId),F=Xe((f=t.fees.routing.breakdown[0])==null?void 0:f.assetId),U=Xe((i=t.fees.provider.breakdown[0])==null?void 0:i.assetId),Y=Xe(n?.assetId);return{trackSwapAnalyticsEvent:()=>{var O,ce,xe,we;const me=t.fees.gas.total*(u?parseFloat(u):0),C=t.fees.provider.total*(U?parseFloat(U):0),X=t.fees.routing.total*(F?parseFloat(F):0),Le=(0,st.Z)(a).minus((0,st.Z)(a).mul((0,st.Z)(d).div(100))).toNumber(),He=Le*(Y?parseFloat(Y):0),pt=(0,st.Z)(l).mul((ce=(O=x.find(vt=>vt.id===c.assetId))==null?void 0:O.price)!=null?ce:0).toNumber(),mt=(0,st.Z)(a).mul((we=(xe=x.find(vt=>vt.id===n.assetId))==null?void 0:xe.price)!=null?we:0).toNumber(),Ve={assetOutId:c.assetId,assetOutBlockchainId:c.blockchain.id,assetOutAmount:parseFloat(l),assetOutFiat:pt,assetInId:n.assetId,assetInBlockchainId:n.blockchain.id,assetInAmount:parseFloat(a),assetInFiat:mt,networkFeeAmount:t.fees.gas.total,networkFeeFiat:me,routingFeeAmount:t.fees.routing.total,routingFeeFiat:X,providerOrigin:t.provider.origin,providerFeeAmount:t.fees.provider.total,providerFeeFiat:C,minReceiveAmount:Le,minReceiveFiat:He,maxSlippage:parseFloat(t.slippage),walletType:P.type,pageViewSource:dt.pG.SWAP};A({event:dt.ih.SWAP_TRANSACTION,props:Ve})},trackSwapApproveAnalyticsEvent:()=>{const O={pageViewSource:dt.pG.SWAP,providerOrigin:t.provider.origin,contract:t.approval.contract,walletType:P.type};A({event:dt.ih.SWAP_APPROVAL_TRANSACTION,props:O})}}};var Xt=(t=>(t.Evm="Evm",t.Solana="Solana",t))(Xt||{}),Ys=s(94061);const Ht=24,Zt=24,zs=({width:t,height:n,colorClass:a})=>(0,e.jsx)("svg",{className:a,fill:"none",width:t??Ht,height:n??Zt,viewBox:`0 0 ${Ht} ${Zt}`,xmlns:"http://www.w3.org/2000/svg",children:(0,e.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.8 3H10.2V5.02683C9.53935 5.19687 8.91539 5.45832 8.34242 5.7969L6.90877 4.36324L4.36318 6.90883L5.79685 8.34249C5.4583 8.91545 5.19686 9.53938 5.02683 10.2H3V13.8H5.02683C5.19687 14.4607 5.45832 15.0846 5.7969 15.6576L4.36335 17.0911L6.90894 19.6367L8.34249 18.2031C8.91545 18.5417 9.53938 18.8031 10.2 18.9732V21H13.8V18.9732C14.4607 18.8031 15.0847 18.5417 15.6576 18.2031L17.0913 19.6368L19.6369 17.0912L18.2032 15.6574C18.5417 15.0845 18.8031 14.4606 18.9732 13.8H21V10.2H18.9732C18.8031 9.53935 18.5417 8.9154 18.2031 8.34243L19.6366 6.90888L17.0911 4.3633L15.6575 5.79685C15.0846 5.4583 14.4606 5.19686 13.8 5.02683V3ZM9.3 12C9.3 10.5088 10.5088 9.3 12 9.3C13.4912 9.3 14.7 10.5088 14.7 12C14.7 13.4912 13.4912 14.7 12 14.7C10.5088 14.7 9.3 13.4912 9.3 12Z",fill:"currentColor"})});var Vs=s(52403),Qs=s(39635),Js=s(50533);function qs(t){return(0,Js.v9)(a=>a.swap.settings)[t]}var en=s(34104),tn=s(7132),sn=s(86724);const nn=({opened:t,onClose:n})=>{const{formatMessage:a}=(0,Q.Z)(),d=qs("mev"),c=(0,o.useMemo)(()=>(0,Ke.uniqueId)("mev-tooltip-"),[]),l=()=>{tn.h.dispatch(sn.v.actions.toggleSetting("mev"))};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Se.u,{title:a({id:"settings-modal.title"}),opened:t,onClose:n,children:(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,e.jsx)(T.x,{type:r.Xi.TITLE,children:a({id:"settings-modal.mev-protection"})}),(0,e.jsx)("div",{"data-tooltip-id":c,"data-tooltip-content":a({id:"settings-modal.mev-tooltip"}),children:(0,e.jsx)(Vs.s,{colorClass:"text-iconNormal"})})]}),(0,e.jsx)(Qs.r,{testid:"settings-mev-switch",checked:d,onChange:l})]})}),(0,e.jsx)(en.u,{id:c,className:"tw-tooltip"})]})};var an=Object.defineProperty,on=Object.defineProperties,rn=Object.getOwnPropertyDescriptors,$t=Object.getOwnPropertySymbols,ln=Object.prototype.hasOwnProperty,cn=Object.prototype.propertyIsEnumerable,_t=(t,n,a)=>n in t?an(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,ut=(t,n)=>{for(var a in n||(n={}))ln.call(n,a)&&_t(t,a,n[a]);if($t)for(var a of $t(n))cn.call(n,a)&&_t(t,a,n[a]);return t},xt=(t,n)=>on(t,rn(n)),gt=(t,n,a)=>new Promise((d,c)=>{var l=i=>{try{f(a.next(i))}catch(A){c(A)}},m=i=>{try{f(a.throw(i))}catch(A){c(A)}},f=i=>i.done?d(i.value):Promise.resolve(i.value).then(l,m);f((a=a.apply(t,n)).next())});const Yt=()=>{(0,Ys.d)({event:dt.pG.SWAP,props:null});const{formatMessage:t}=(0,Q.Z)(),n=(0,Hs.s0)(),a=(0,o.useRef)(!0),d=(0,o.useRef)(!0),c=(0,o.useRef)(0),l=(0,o.useRef)(!1),[m]=(0,Xs.d)(),f=Ce(),[i,A]=(0,o.useState)(f.blockchain),[x,P]=(0,o.useState)(f),[u,F]=(0,o.useState)(""),[U,Y]=(0,o.useState)(!1),[k,ie]=(0,o.useState)(f.blockchain),[O,ce]=(0,o.useState)(null),[xe,we]=(0,o.useState)("0"),[me,C]=(0,o.useState)(!1),[X,Le]=(0,o.useState)(!1),[He,pt]=(0,o.useState)(null),[mt,Ve]=(0,o.useState)(!1),[vt,Vt]=(0,o.useState)(!1),[un,Qt]=(0,o.useState)(!1),[pn,Jt]=(0,o.useState)(!1),[At,qt]=(0,o.useState)(q.FROM),[Et,mn]=(0,o.useState)(Pt),[_,ft]=(0,o.useState)({id:"",minimumAmount:"0",priceImpact:"0",exchangeRate:null,approval:null,fees:{gas:{breakdown:[],total:0},provider:{breakdown:[],total:0},routing:{breakdown:[],total:0}},provider:null,error:"",insufficientBalance:!1,slippage:Pt}),[vn,Ct]=(0,o.useState)(!1),[es,ts]=(0,o.useState)(""),ss=R((0,ve.tI)(i.coinId))[0],fn=R((0,ve.tI)(k.coinId))[0],{trackSwapAnalyticsEvent:hn,trackSwapApproveAnalyticsEvent:xn}=_s({quote:_,receiveAsset:O,receiveAmount:xe,slippage:Et,spendAsset:x,spendAmount:u}),{isPairSet:jt,isPairIdentical:ns,hasSpendAmount:as,canGetQuote:St,isSwapAllSet:gn,hasQuoteError:Ot,hasTxError:An}=Ls(x,O,u,U,_.error,es),{headerText:En,defaultAssets:On,scopedBlockchain:Pn,reservedAsset:In,selectedAsset:yn}=Ds(At,He,i,x,k,O);function Tn(D){l.current=!1,mn(D)}function os(D){qt(D),Vt(!0)}function Cn(D){At===q.FROM?A(D):ie(D)}function rs(D){qt(D),Qt(!0)}function jn(D){At===q.FROM?P(D):ce(D)}function Sn(){jt&&!ns&&(a.current=!0,d.current=!0,A(k),P(O),F(xe),ie(i),ce(x),we(u))}function Nn(){return gt(this,null,function*(){try{if(ts(""),Le(!0),m!==x.blockchain.id&&(yield De.Tl.emit(Us.Z.SWITCH_BLOCKCHAIN,{blockchainId:x.blockchain.id,blockchainType:x.blockchain.isCustom?Kt.F.CUSTOM:Kt.F.MAIN})),_.approval){const D=yield De.Tl.emit(ct.Z.FETCH_SWAP_APPROVAL_PAYLOAD,{approval:_.approval,provider:_.provider});yield De.Tl.emit(Tt.Z.ETH_SIGN_TRANSACTION,D),xn(),ft(Qe=>xt(ut({},Qe),{approval:null}))}else{const D=yield De.Tl.emit(ct.Z.FETCH_SWAP_TRANSACTION_PAYLOAD,{id:_.id,assetOut:x,assetIn:O,provider:_.provider});D.domain===Xt.Evm?yield De.Tl.emit(Tt.Z.ETH_SEND_TRANSACTION,D):yield De.Tl.emit(Tt.Z.SOL_SWAP_TRANSACTION,ut({id:_.id,assetOut:x,assetIn:O,amountOut:{value:u,decimals:x.decimals}},D)),hn(),n(j.Z.HISTORY)}}catch(D){[Gs,Ks].includes(D.message)&&ts(t({id:"errors.transaction-generation"}))}finally{Le(!1)}})}const Nt=(0,o.useCallback)((0,Ke.debounce)((D,Qe,Mn,Rn)=>gt(void 0,null,function*(){const ls=++c.current;try{C(!0),Ct(!1);const{id:Mt,receiveAmount:Rt,minimumAmount:Dn,priceImpact:wn,exchangeRate:Ln,approval:Fn,fees:bn,provider:Wn,insufficientBalance:Bn,slippage:Un}=yield De.Tl.emit(ct.Z.FETCH_SWAP_QUOTE,{assetOut:D,assetIn:Qe,amount:Mn,slippage:l.current?void 0:Rn});if(ls!==c.current)return;we(Rt),ft({id:Mt,priceImpact:wn,minimumAmount:Dn,exchangeRate:Ln,approval:Fn,provider:Wn,fees:bn,error:"",insufficientBalance:Bn,slippage:Un}),Ct(!0)}catch(Mt){Mt.message===ks&&ft(Rt=>xt(ut({},Rt),{exchangeRate:null,warnings:[],error:t({id:"errors.route-not-available"})}))}finally{ls===c.current&&C(!1)}}),300),[]);return(0,o.useEffect)(()=>{(()=>gt(void 0,null,function*(){return yield De.Tl.emit(ws.Z.GET_COIN_STATUSES)}))()},[]),(0,o.useEffect)(()=>{(()=>gt(void 0,null,function*(){const D=yield De.Tl.emit(ct.Z.FETCH_SWAP_PAIRS,Ie);pt(D)}))().catch(wt.G1)},[]),(0,o.useEffect)(()=>{a.current?a.current=!1:P(ss)},[i.coinId]),(0,o.useEffect)(()=>{d.current?d.current=!1:ce(fn)},[k.coinId]),(0,o.useEffect)(()=>{l.current=!0},[i.coinId,x.assetId,k.coinId,O?.assetId]),(0,o.useEffect)(()=>{const D=Nt;return Ct(!1),ft(Qe=>xt(ut({},Qe),{warnings:[],error:""})),jt&&(as&&!ns?(C(!0),D(x,O,{value:u,decimals:x.decimals},Et)):(we("0"),ft(Qe=>xt(ut({},Qe),{priceImpact:"0"})),C(!1))),()=>D.cancel()},[jt,as,x,O,u,Nt,Et]),(0,e.jsxs)(yt._z,{loose:!0,children:[(0,e.jsx)(yt.Wo,{children:(0,e.jsxs)(yt.xV,{children:[(0,e.jsx)("div",{className:"flex my-11 justify-center",children:(0,e.jsx)(It.e,{onClick:()=>n(j.Z.DEFAULT),children:(0,e.jsx)(M.Y,{})})}),(0,e.jsxs)("div",{className:"bg-backgroundPrimary border border-line rounded p-6",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,e.jsx)(T.x,{type:r.Xi.HEADER,children:"Swap"}),(0,e.jsx)(ze.z,{noPadding:!0,fullWidth:!1,shape:Be.AX.CIRCLE,theme:Be.jM.TRANSPARENT,testid:"settings-button",onClick:()=>Ve(!0),children:(0,e.jsx)(zs,{colorClass:"text-iconNormal"})})]}),(0,e.jsx)(Wt,{testid:"swap-from",origin:q.FROM,network:i,asset:x,amount:u,disabled:X,onAmountChange:F,onNetworkClick:os,onTokenClick:rs,onAmountExcess:Y}),(0,e.jsx)("div",{className:"relative z0 flex w-10 h-10 -my-3.75 mx-auto rounded-curvy bg-backgroundPrimary",children:(0,e.jsx)(ze.z,{noPadding:!0,testid:"swap-change-quote-button",theme:Be.jM.TRANSPARENT,shape:Be.AX.CIRCLE,disabled:me||X,onClick:Sn,children:(0,e.jsx)(Ws,{colorClass:"text-iconNormal hover:text-primary transition"})})}),(0,e.jsxs)(Wt,{testid:"swap-to",origin:q.TO,network:k,asset:O,amount:xe,priceImpact:_.priceImpact,isLoading:me,disabled:X,onNetworkClick:os,onTokenClick:rs,children:[St&&!Ot&&(0,e.jsx)(ae,{isLoading:me,rate:_.exchangeRate,runCountdown:vn,onCountdownFinish:()=>St&&Nt(x,O,{value:u,decimals:x.decimals},Et)}),Ot&&(0,e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,e.jsx)(Bs.a,{colorClass:"text-iconWarning"}),(0,e.jsx)(T.x,{theme:r.W5.WARNING,type:r.Xi.SUBTITLE,children:_.error})]})]}),(0,e.jsx)("div",{className:"my-6",children:(0,e.jsxs)(ze.z,{testid:"swap-button",disabled:!gn||me||X||Ot||!_.approval&&_.insufficientBalance,loading:me||X,onClick:Nn,children:[_.approval?t({id:"dashboard.approve-crypto"},{symbol:x.symbol}):t({id:`dashboard.${_.insufficientBalance?"insufficient-balance":"swap"}`},{symbol:ss.symbol})," "]})}),An&&(0,e.jsx)("div",{className:"mb-4",children:(0,e.jsx)(Fs.b,{theme:bs.q.WARNING,children:es})}),St&&!Ot&&(0,e.jsx)(ys,{isLoading:me,disabled:X,slippage:_.slippage,receiveAsset:O,minimumAmount:_.minimumAmount,provider:_.provider,fees:_.fees,openSlippageModal:()=>Jt(!0)})]})]})}),(0,e.jsx)(nn,{onClose:()=>Ve(!1),opened:mt}),(0,e.jsx)(Ye,{opened:vt,selectedNetwork:At===q.FROM?i.id:k.id,onNetworkSelect:Cn,onClose:()=>Vt(!1)}),(0,e.jsx)(Me,{header:En,defaultAssets:On,scopedBlockchain:Pn,opened:un,reservedAsset:In,selectedAsset:yn,onAssetSelect:jn,onClose:()=>Qt(!1)}),(0,e.jsx)(us,{defaultSlippage:_.slippage,onSave:Tn,opened:pn,onClose:()=>Jt(!1)})]})},zt=()=>(0,e.jsx)(y.P,{messageFileId:"app_src_popup_modules_swap_locales",children:(0,e.jsx)(S,{children:(0,e.jsx)(Yt,{})})}),dn=zt},81146:(Pe,b,s)=>{s.d(b,{G:()=>h});var e=s(85893),M=s(1942),y=s(24205),j=s(99244),o=s(32193),g=s(48303),v=s(45618);const h=({iconUrl:p,icon:W,name:B="",symbol:Z,network:$,onClick:H,testid:w})=>(0,e.jsxs)("div",{className:"flex items-center space-x-2.5",children:[p?(0,e.jsx)(j.C,{size:o.m.LARGE,src:p,name:B,network:$}):W,(0,e.jsxs)(M.e,{testid:w,onClick:H,children:[(0,e.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,e.jsx)(g.x,{type:v.Xi.TITLE,weight:v.kx.SEMIBOLD,children:Z}),(0,e.jsx)(y.X,{width:20,height:20,colorClass:"text-iconNormal"})]}),B&&(0,e.jsx)("div",{className:"flex whitespace-nowrap",children:(0,e.jsx)(g.x,{type:v.Xi.CAPTION,theme:v.W5.SECONDARY,children:B})})]})]})},74028:(Pe,b,s)=>{s.d(b,{M:()=>j});var e=s(85893),M=s(53706),y=s(42437);const j=({placeholder:o,value:g,disabled:v,onChange:h,autoFocus:p=!0,align:W=y.n5.LEFT,testid:B})=>(0,e.jsx)("div",{children:(0,e.jsxs)("div",{className:`search-field ${v?"bg-textDisabled pointer-events-none":""}`,children:[(0,e.jsx)("div",{className:"mr-1",children:(0,e.jsx)(M.W,{colorClass:"text-iconNormal"})}),(0,e.jsx)("input",{"data-testid":B,className:`block flex-1 outline-none bg-transparent title-text font-medium ${W}`,type:y.rC.TEXT,placeholder:o,spellCheck:!1,value:g,autoFocus:p,onChange:h})]})})},1561:(Pe,b,s)=>{s.d(b,{W:()=>j});var e=s(85893),M=s(48303),y=s(45618);const j=({title:o,children:g})=>(0,e.jsxs)("div",{className:"my-2 flex flex-col space-y-4 pb-2",children:[o&&(0,e.jsx)(M.x,{theme:y.W5.THIRD,testid:"category-title",children:o}),g]})},39635:(Pe,b,s)=>{s.d(b,{r:()=>y});var e=s(85893),M=s(77768);const y=({label:j,checked:o,testid:g,disabled:v,onChange:h})=>(0,e.jsxs)(M.r,{"data-testid":g,checked:o,onChange:h,className:`${o?"bg-primary":"bg-textDisabled"} switch-container ${v?"opacity-50":"opacity-100"}`,onClick:p=>p.stopPropagation(),disabled:v,children:[j&&(0,e.jsx)("span",{className:"sr-only",children:j}),(0,e.jsx)("span",{"aria-hidden":"true",className:`${o?"translate-x-5":"translate-x-0"} switch-toggle`})]})},36117:(Pe,b,s)=>{s.d(b,{e:()=>o});var e=s(98596),M=s(67294),y=s(59078),j=s(24044);function o(g){const[v,h]=(0,M.useState)(),{data:p,error:W,fetchNextPage:B,hasNextPage:Z,isFetching:$,isFetchingNextPage:H,status:w}=(0,e.N)(["tokens",v,g],({pageParam:S=0})=>y.Tl.emit(j.Z.SEARCH_ASSETS,{query:v,networks:g,page:S}),{refetchOnWindowFocus:!1,getNextPageParam:S=>S?.nextPage}),G=(0,M.useMemo)(()=>(p?.pages||[]).flatMap(S=>S?.data||[]),[p?.pages]);return{setQuery:h,data:p,error:W,fetchNextPage:B,hasNextPage:Z,isFetching:$,isFetchingNextPage:H,status:w,flattenData:G}}},95389:(Pe,b,s)=>{s.d(b,{_:()=>$,b:()=>p});var e=s(67294),M=s(73781),y=s(19946),j=s(16723),o=s(23784),g=s(12351);let v=(0,e.createContext)(null);function h(){let H=(0,e.useContext)(v);if(H===null){let w=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(w,h),w}return H}function p(){let[H,w]=(0,e.useState)([]);return[H.length>0?H.join(" "):void 0,(0,e.useMemo)(()=>function(G){let S=(0,M.z)(ue=>(w(K=>[...K,ue]),()=>w(K=>{let z=K.slice(),ee=z.indexOf(ue);return ee!==-1&&z.splice(ee,1),z}))),de=(0,e.useMemo)(()=>({register:S,slot:G.slot,name:G.name,props:G.props}),[S,G.slot,G.name,G.props]);return e.createElement(v.Provider,{value:de},G.children)},[w])]}let W="label";function B(H,w){let G=(0,y.M)(),{id:S=`headlessui-label-${G}`,passive:de=!1,...ue}=H,K=h(),z=(0,o.T)(w);(0,j.e)(()=>K.register(S),[S,K.register]);let ee={ref:z,...K.props,id:S};return de&&("onClick"in ee&&(delete ee.htmlFor,delete ee.onClick),"onClick"in ue&&delete ue.onClick),(0,g.sY)({ourProps:ee,theirProps:ue,slot:K.slot||{},defaultTag:W,name:K.name||"Label"})}let Z=(0,g.yV)(B),$=Object.assign(Z,{})},75198:(Pe,b,s)=>{s.d(b,{E:()=>Ge});var e=s(67294),M=s(39516),y=s(61363),j=s(95389),o=s(31147),g=s(85563),v=s(73781),h=s(14227),p=s(19946),W=s(16723),B=s(3855),Z=s(23784),$=s(15466);function H({container:E,accept:N,walk:L,enabled:V=!0}){let ne=(0,e.useRef)(N),re=(0,e.useRef)(L);(0,e.useEffect)(()=>{ne.current=N,re.current=L},[N,L]),(0,W.e)(()=>{if(!E||!V)return;let ge=(0,$.r)(E);if(!ge)return;let Ae=ne.current,fe=re.current,Ee=Object.assign(Ce=>Ae(Ce),{acceptNode:Ae}),R=ge.createTreeWalker(E,NodeFilter.SHOW_ELEMENT,Ee,!1);for(;R.nextNode();)fe(R.currentNode)},[E,V,ne,re])}var w=s(46045),G=s(64103),S=s(84575),de=s(18689),ue=s(32984),K=s(12351),z=(E=>(E[E.RegisterOption=0]="RegisterOption",E[E.UnregisterOption=1]="UnregisterOption",E))(z||{});let ee={0(E,N){let L=[...E.options,{id:N.id,element:N.element,propsRef:N.propsRef}];return{...E,options:(0,S.z2)(L,V=>V.element.current)}},1(E,N){let L=E.options.slice(),V=E.options.findIndex(ne=>ne.id===N.id);return V===-1?E:(L.splice(V,1),{...E,options:L})}},te=(0,e.createContext)(null);te.displayName="RadioGroupDataContext";function T(E){let N=(0,e.useContext)(te);if(N===null){let L=new Error(`<${E} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(L,T),L}return N}let r=(0,e.createContext)(null);r.displayName="RadioGroupActionsContext";function oe(E){let N=(0,e.useContext)(r);if(N===null){let L=new Error(`<${E} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(L,oe),L}return N}function Ue(E,N){return(0,ue.E)(N.type,ee,E,N)}let Fe="div";function Ie(E,N){let L=(0,p.M)(),{id:V=`headlessui-radiogroup-${L}`,value:ne,defaultValue:re,form:ge,name:Ae,onChange:fe,by:Ee=(I,le)=>I===le,disabled:R=!1,...Ce}=E,je=(0,v.z)(typeof Ee=="string"?(I,le)=>{let ae=Ee;return I?.[ae]===le?.[ae]}:Ee),[Ze,Se]=(0,e.useReducer)(Ue,{options:[]}),he=Ze.options,[Je,Ke]=(0,j.b)(),[Q,$e]=(0,M.f)(),_e=(0,e.useRef)(null),at=(0,Z.T)(_e,N),[pe,qe]=(0,o.q)(ne,fe,re),Oe=(0,e.useMemo)(()=>he.find(I=>!I.propsRef.current.disabled),[he]),Ne=(0,e.useMemo)(()=>he.some(I=>je(I.propsRef.current.value,pe)),[he,pe]),ye=(0,v.z)(I=>{var le;if(R||je(I,pe))return!1;let ae=(le=he.find(We=>je(We.propsRef.current.value,I)))==null?void 0:le.propsRef.current;return ae!=null&&ae.disabled?!1:(qe?.(I),!0)});H({container:_e.current,accept(I){return I.getAttribute("role")==="radio"?NodeFilter.FILTER_REJECT:I.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(I){I.setAttribute("role","none")}});let ot=(0,v.z)(I=>{let le=_e.current;if(!le)return;let ae=(0,$.r)(le),We=he.filter(J=>J.propsRef.current.disabled===!1).map(J=>J.element.current);switch(I.key){case y.R.Enter:(0,de.g)(I.currentTarget);break;case y.R.ArrowLeft:case y.R.ArrowUp:if(I.preventDefault(),I.stopPropagation(),(0,S.jA)(We,S.TO.Previous|S.TO.WrapAround)===S.fE.Success){let J=he.find(Ye=>Ye.element.current===ae?.activeElement);J&&ye(J.propsRef.current.value)}break;case y.R.ArrowRight:case y.R.ArrowDown:if(I.preventDefault(),I.stopPropagation(),(0,S.jA)(We,S.TO.Next|S.TO.WrapAround)===S.fE.Success){let J=he.find(Ye=>Ye.element.current===ae?.activeElement);J&&ye(J.propsRef.current.value)}break;case y.R.Space:{I.preventDefault(),I.stopPropagation();let J=he.find(Ye=>Ye.element.current===ae?.activeElement);J&&ye(J.propsRef.current.value)}break}}),Me=(0,v.z)(I=>(Se({type:0,...I}),()=>Se({type:1,id:I.id}))),Re=(0,e.useMemo)(()=>({value:pe,firstOption:Oe,containsCheckedOption:Ne,disabled:R,compare:je,...Ze}),[pe,Oe,Ne,R,je,Ze]),rt=(0,e.useMemo)(()=>({registerOption:Me,change:ye}),[Me,ye]),lt={ref:at,id:V,role:"radiogroup","aria-labelledby":Je,"aria-describedby":Q,onKeyDown:ot},et=(0,e.useMemo)(()=>({value:pe}),[pe]),tt=(0,e.useRef)(null),it=(0,g.G)();return(0,e.useEffect)(()=>{tt.current&&re!==void 0&&it.addEventListener(tt.current,"reset",()=>{ye(re)})},[tt,ye]),e.createElement($e,{name:"RadioGroup.Description"},e.createElement(Ke,{name:"RadioGroup.Label"},e.createElement(r.Provider,{value:rt},e.createElement(te.Provider,{value:Re},Ae!=null&&pe!=null&&(0,de.t)({[Ae]:pe}).map(([I,le],ae)=>e.createElement(w._,{features:w.A.Hidden,ref:ae===0?We=>{var J;tt.current=(J=We?.closest("form"))!=null?J:null}:void 0,...(0,K.oA)({key:I,as:"input",type:"radio",checked:le!=null,hidden:!0,readOnly:!0,form:ge,name:I,value:le})})),(0,K.sY)({ourProps:lt,theirProps:Ce,slot:et,defaultTag:Fe,name:"RadioGroup"})))))}var ke=(E=>(E[E.Empty=1]="Empty",E[E.Active=2]="Active",E))(ke||{});let be="div";function ve(E,N){var L;let V=(0,p.M)(),{id:ne=`headlessui-radiogroup-option-${V}`,value:re,disabled:ge=!1,...Ae}=E,fe=(0,e.useRef)(null),Ee=(0,Z.T)(fe,N),[R,Ce]=(0,j.b)(),[je,Ze]=(0,M.f)(),{addFlag:Se,removeFlag:he,hasFlag:Je}=(0,h.V)(1),Ke=(0,B.E)({value:re,disabled:ge}),Q=T("RadioGroup.Option"),$e=oe("RadioGroup.Option");(0,W.e)(()=>$e.registerOption({id:ne,element:fe,propsRef:Ke}),[ne,$e,fe,Ke]);let _e=(0,v.z)(Me=>{var Re;if((0,G.P)(Me.currentTarget))return Me.preventDefault();$e.change(re)&&(Se(2),(Re=fe.current)==null||Re.focus())}),at=(0,v.z)(Me=>{if((0,G.P)(Me.currentTarget))return Me.preventDefault();Se(2)}),pe=(0,v.z)(()=>he(2)),qe=((L=Q.firstOption)==null?void 0:L.id)===ne,Oe=Q.disabled||ge,Ne=Q.compare(Q.value,re),ye={ref:Ee,id:ne,role:"radio","aria-checked":Ne?"true":"false","aria-labelledby":R,"aria-describedby":je,"aria-disabled":Oe?!0:void 0,tabIndex:(()=>Oe?-1:Ne||!Q.containsCheckedOption&&qe?0:-1)(),onClick:Oe?void 0:_e,onFocus:Oe?void 0:at,onBlur:Oe?void 0:pe},ot=(0,e.useMemo)(()=>({checked:Ne,disabled:Oe,active:Je(2)}),[Ne,Oe,Je]);return e.createElement(Ze,{name:"RadioGroup.Description"},e.createElement(Ce,{name:"RadioGroup.Label"},(0,K.sY)({ourProps:ye,theirProps:Ae,slot:ot,defaultTag:be,name:"RadioGroup.Option"})))}let Te=(0,K.yV)(Ie),se=(0,K.yV)(ve),Ge=Object.assign(Te,{Option:se,Label:j._,Description:M.d})},77768:(Pe,b,s)=>{s.d(b,{r:()=>ee});var e=s(67294),M=s(31147),y=s(85563),j=s(73781),o=s(19946),g=s(14157),v=s(23784),h=s(46045),p=s(64103),W=s(18689),B=s(12351),Z=s(39516),$=s(61363),H=s(95389);let w=(0,e.createContext)(null);w.displayName="GroupContext";let G=e.Fragment;function S(te){var T;let[r,oe]=(0,e.useState)(null),[Ue,Fe]=(0,H.b)(),[Ie,ke]=(0,Z.f)(),be=(0,e.useMemo)(()=>({switch:r,setSwitch:oe,labelledby:Ue,describedby:Ie}),[r,oe,Ue,Ie]),ve={},Te=te;return e.createElement(ke,{name:"Switch.Description"},e.createElement(Fe,{name:"Switch.Label",props:{htmlFor:(T=be.switch)==null?void 0:T.id,onClick(se){r&&(se.currentTarget.tagName==="LABEL"&&se.preventDefault(),r.click(),r.focus({preventScroll:!0}))}}},e.createElement(w.Provider,{value:be},(0,B.sY)({ourProps:ve,theirProps:Te,defaultTag:G,name:"Switch.Group"}))))}let de="button";function ue(te,T){let r=(0,o.M)(),{id:oe=`headlessui-switch-${r}`,checked:Ue,defaultChecked:Fe=!1,onChange:Ie,name:ke,value:be,form:ve,...Te}=te,se=(0,e.useContext)(w),Ge=(0,e.useRef)(null),E=(0,v.T)(Ge,T,se===null?null:se.setSwitch),[N,L]=(0,M.q)(Ue,Ie,Fe),V=(0,j.z)(()=>L?.(!N)),ne=(0,j.z)(R=>{if((0,p.P)(R.currentTarget))return R.preventDefault();R.preventDefault(),V()}),re=(0,j.z)(R=>{R.key===$.R.Space?(R.preventDefault(),V()):R.key===$.R.Enter&&(0,W.g)(R.currentTarget)}),ge=(0,j.z)(R=>R.preventDefault()),Ae=(0,e.useMemo)(()=>({checked:N}),[N]),fe={id:oe,ref:E,role:"switch",type:(0,g.f)(te,Ge),tabIndex:0,"aria-checked":N,"aria-labelledby":se?.labelledby,"aria-describedby":se?.describedby,onClick:ne,onKeyUp:re,onKeyPress:ge},Ee=(0,y.G)();return(0,e.useEffect)(()=>{var R;let Ce=(R=Ge.current)==null?void 0:R.closest("form");Ce&&Fe!==void 0&&Ee.addEventListener(Ce,"reset",()=>{L(Fe)})},[Ge,L]),e.createElement(e.Fragment,null,ke!=null&&N&&e.createElement(h._,{features:h.A.Hidden,...(0,B.oA)({as:"input",type:"checkbox",hidden:!0,readOnly:!0,form:ve,checked:N,name:ke,value:be})}),(0,B.sY)({ourProps:fe,theirProps:Te,slot:Ae,defaultTag:de,name:"Switch"}))}let K=(0,B.yV)(ue),z=S,ee=Object.assign(K,{Group:z,Label:H._,Description:Z.d})},31147:(Pe,b,s)=>{s.d(b,{q:()=>y});var e=s(67294),M=s(73781);function y(j,o,g){let[v,h]=(0,e.useState)(g),p=j!==void 0,W=(0,e.useRef)(p),B=(0,e.useRef)(!1),Z=(0,e.useRef)(!1);return p&&!W.current&&!B.current?(B.current=!0,W.current=p,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!p&&W.current&&!Z.current&&(Z.current=!0,W.current=p,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[p?j:v,(0,M.z)($=>(p||h($),o?.($)))]}},18689:(Pe,b,s)=>{s.d(b,{g:()=>j,t:()=>e});function e(o={},g=null,v=[]){for(let[h,p]of Object.entries(o))y(v,M(g,h),p);return v}function M(o,g){return o?o+"["+g+"]":g}function y(o,g,v){if(Array.isArray(v))for(let[h,p]of v.entries())y(o,M(g,h.toString()),p);else v instanceof Date?o.push([g,v.toISOString()]):typeof v=="boolean"?o.push([g,v?"1":"0"]):typeof v=="string"?o.push([g,v]):typeof v=="number"?o.push([g,`${v}`]):v==null?o.push([g,""]):e(v,g,o)}function j(o){var g,v;let h=(g=o?.form)!=null?g:o.closest("form");if(h){for(let p of h.elements)if(p!==o&&(p.tagName==="INPUT"&&p.type==="submit"||p.tagName==="BUTTON"&&p.type==="submit"||p.nodeName==="INPUT"&&p.type==="image")){p.click();return}(v=h.requestSubmit)==null||v.call(h)}}},98596:(Pe,b,s)=>{s.d(b,{N:()=>g});var e=s(32161),M=s(52924),y=s(9499);class j extends M.z{constructor(h,p){super(h,p)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(h,p){super.setOptions({...h,behavior:(0,y.Gm)()},p)}getOptimisticResult(h){return h.behavior=(0,y.Gm)(),super.getOptimisticResult(h)}fetchNextPage({pageParam:h,...p}={}){return this.fetch({...p,meta:{fetchMore:{direction:"forward",pageParam:h}}})}fetchPreviousPage({pageParam:h,...p}={}){return this.fetch({...p,meta:{fetchMore:{direction:"backward",pageParam:h}}})}createResult(h,p){var W,B,Z,$,H,w;const{state:G}=h,S=super.createResult(h,p),{isFetching:de,isRefetching:ue}=S,K=de&&((W=G.fetchMeta)==null||(B=W.fetchMore)==null?void 0:B.direction)==="forward",z=de&&((Z=G.fetchMeta)==null||($=Z.fetchMore)==null?void 0:$.direction)==="backward";return{...S,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:(0,y.Qy)(p,(H=G.data)==null?void 0:H.pages),hasPreviousPage:(0,y.ZF)(p,(w=G.data)==null?void 0:w.pages),isFetchingNextPage:K,isFetchingPreviousPage:z,isRefetching:ue&&!K&&!z}}}var o=s(97159);function g(v,h,p){const W=(0,e._v)(v,h,p);return(0,o.r)(W,j)}}}]);
