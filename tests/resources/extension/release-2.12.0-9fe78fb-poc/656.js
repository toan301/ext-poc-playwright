"use strict";(self.webpackChunkbrowser_extension_wallet=self.webpackChunkbrowser_extension_wallet||[]).push([[656],{21761:(B,p,s)=>{s.d(p,{R:()=>C});var e=s(67294);const C=()=>(0,e.useMemo)(()=>["merlin"],[])},80250:(B,p,s)=>{s.d(p,{x:()=>O});var e=s(56230),C=s(77016),y=s(67294),E=s(32934),v=s(51170),I=s(44467);const O=l=>{const f=(0,I.E)(l.blockchain.id),A=(0,C.mA)(f.coinId),R=(0,e.N6)(l.assetId);return(0,y.useMemo)(()=>{var m;const a={id:l.hash,from:l.events[0].metadata.from,to:l.events[0].metadata.to,type:l.events[0].type,status:l.status,symbol:(m=R?.symbol)!=null?m:f.symbol,fee:l.fee,date:l.createdAt,isTestnetTransaction:f.isTest,amount:(0,v.SN)(l)};if((0,v.oo)(l.events)){if(!A)return a.type=E.k$.Send,a.amount=Math.abs(Number(a.amount)).toString(),a;const M=A.address,{from:i,to:d}=l.events[0].metadata,c=i===M?d:i;parseFloat(a.amount)>0?(a.type=E.k$.Receive,a.from=c,a.to=M):(a.type=E.k$.Send,a.from=M,a.to=c,a.amount=Math.abs(Number(a.amount)).toString())}return(0,v.t9)(l.events)&&(a.input=l.events[0].metadata.input),l.nft&&(a.nft={onChainId:l.nft.onChainId,previewImage:l.nft.previewImageURL,originalImage:l.nft.originalMediaURL,name:l.nft.name,collectionName:l.nft.collectionName,collectionId:l.nft.collectionId,blockchain:{iconUrl:f.iconUrl,name:f.name}}),a},[JSON.stringify(l)])}},74656:(B,p,s)=>{s.r(p),s.d(p,{App:()=>G,default:()=>fe});var e=s(85893),C=s(64064),y=s(80250),E=s(74950),v=s(84714),I=s(41087),O=s(23948);const l=24,f=24,A=({width:t,height:n,colorClass:o})=>(0,e.jsx)("svg",{className:o,fill:"none",width:t??l,height:n??f,viewBox:`0 0 ${l} ${f}`,xmlns:"http://www.w3.org/2000/svg",children:(0,e.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12ZM13.7674 11.9991L16.773 15.0047L15.0053 16.7725L11.9996 13.7669L8.99482 16.7717L7.22705 15.0039L10.2319 11.9991L7.22711 8.99433L8.99487 7.22656L11.9996 10.2313L15.0052 7.22573L16.773 8.9935L13.7674 11.9991Z",fill:"currentColor"})});var R=s(94460),m=s(48303),a=s(45618),M=s(86896),i=s(52403),d=s(21761);const c=({status:t,blockchainId:n})=>{const{formatMessage:o}=(0,M.Z)();switch((0,d.R)().includes(n)&&t!=="pending"?"unconfirmed":t){case"failed":return(0,e.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,e.jsx)("div",{children:(0,e.jsx)(m.x,{testid:"tx-status",theme:a.W5.ERROR,children:o({id:"generic.failed"})})}),(0,e.jsx)("div",{className:"text-error",children:(0,e.jsx)(A,{width:15,height:15})})]});case"pending":return(0,e.jsx)("div",{className:"flex items-center space-x-1",children:(0,e.jsx)("div",{children:(0,e.jsx)(m.x,{testid:"tx-status",theme:a.W5.WARNING,children:o({id:"generic.pending"})})})});case"confirmed":return(0,e.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,e.jsx)("div",{children:(0,e.jsx)(m.x,{testid:"tx-status",theme:a.W5.SUCCESS,children:o({id:"generic.confirmed"})})}),(0,e.jsx)("div",{className:"text-textBuy",children:(0,e.jsx)(O.o,{width:15,height:15})})]});case"unconfirmed":return(0,e.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,e.jsx)("div",{children:(0,e.jsx)(m.x,{testid:"tx-status",theme:a.W5.DISABLED,children:o({id:"generic.unconfirmed-txhub-label"})})}),(0,e.jsxs)("div",{className:"text-iconNormal","data-tooltip-id":"tx-status-info","data-tooltip-content":o({id:"generic.unconfirmed-txhub-tooltip"}),children:[(0,e.jsx)(i.s,{width:15,height:15}),(0,e.jsx)(R.u,{id:"tx-status-info",className:"tw-tooltip"})]})]})}};var g=s(60333),L=s(48161),u=s(28461),W=s(82715),X=s(65702),H=s(44467),J=s(75932),Y=s(32934),Q=s(6097),b=s(10121),_=s(89171),q=s(77616),F=s(67294);const ee=({transaction:t,asset:n})=>{var o,h;const{formatMessage:r}=(0,M.Z)(),{isAdvancedTransactionDataEnabled:D}=(0,J.t)(),j=(0,H.E)(t.blockchain.id),x=(0,F.useMemo)(()=>{var U;return q.bM((U=t.gasPrice)!=null?U:0,"ether")},[t]),{from:T,to:P,type:N,input:je,amount:w}=(0,y.x)(t),Te=(0,F.useMemo)(()=>t.fee.reduce((U,S)=>{var V;return parseFloat((V=String(U))!=null?V:"0")+parseFloat(S??"0")},0)+(D?parseFloat(x):0),[t.fee,x]);return(0,e.jsxs)(L.Wo,{children:[(0,e.jsx)(u.U,{label:r({id:"generic.status"}),children:(0,e.jsx)(c,{blockchainId:n.blockchainId,status:t.status})}),(0,e.jsx)(u.U,{label:r({id:"generic.time"}),children:(0,e.jsx)(X.J,{value:t.createdAt})}),t.nft&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(u.U,{label:r({id:"generic.collection"}),children:(0,e.jsx)(m.x,{children:t.nft.collectionName})}),(0,e.jsx)(u.U,{label:r({id:"generic.token"})+" ID",children:(0,e.jsx)(m.x,{children:t.nft.onChainId})})]}),(0,e.jsx)(I.V,{network:j,sender:T}),(0,e.jsx)(v.j,{recipient:P,type:N,network:(h=(o=t.destination)==null?void 0:o.blockchain)!=null?h:j}),(0,e.jsx)(u.U,{label:r({id:"generic.hash"}),children:(0,e.jsxs)("div",{className:"flex space-x-1 items-center",children:[(0,e.jsx)(m.x,{children:(0,_.j)({value:t.hash})}),(0,e.jsx)(g.m,{width:15,height:15,value:t.hash})]})}),t.memo&&(0,e.jsx)(u.U,{label:r({id:"generic.memo"}),children:(0,e.jsx)(m.x,{children:isNaN(parseInt(t.memo))?t.memo:parseInt(t.memo)})}),parseFloat(w)>0&&(0,e.jsx)(u.U,{label:r({id:"generic.amount"}),children:(0,e.jsx)(W.l,{testid:"tx-amount",value:w,amountType:b.F.CRYPTO,currency:n.symbol,tinyThreshold:10,maxSignificantDecimals:10})}),(0,e.jsx)(u.U,{label:r({id:"generic.network-fee"}),children:t.fee.map((U,S)=>(0,e.jsx)(W.l,{testid:"tx-fee-"+S,value:U,amountType:b.F.CRYPTO,tinyThreshold:10,maxSignificantDecimals:10,currency:(0,Q.$c)(j,n)},S+U))}),(0,e.jsx)(u.U,{label:r({id:"generic.network"}),children:(0,e.jsx)(m.x,{testid:"tx-network",children:j.name})}),D&&(0,e.jsxs)(e.Fragment,{children:[t.nonce&&(0,e.jsx)(u.U,{label:r({id:"generic.nonce"}),children:(0,e.jsx)(m.x,{children:parseInt(t.nonce)})}),t.gasLimit&&(0,e.jsx)(u.U,{label:r({id:"generic.gas-limit"}),children:(0,e.jsx)(m.x,{children:parseInt(t.gasLimit)})}),t.gasPrice&&(0,e.jsx)(u.U,{label:r({id:"generic.gas-price"}),children:(0,e.jsxs)(m.x,{children:[x," ",j.symbol]})}),N===Y.k$.Contract&&(0,e.jsx)(u.U,{label:r({id:"generic.input-data"}),children:(0,e.jsx)("div",{className:"w-2/3 bg-bg3 rounded-lg p-4 text-right",children:(0,e.jsx)(m.x,{children:je})})})]}),(0,e.jsx)(E.T,{asset:n,blockchain:j,type:N,amount:parseFloat(w),fee:Te})]})};var se=s(44525),te=s(49756),K=s(70473),$=s(47321),ne=s(44645),le=(t,n,o)=>new Promise((h,r)=>{var D=T=>{try{x(o.next(T))}catch(P){r(P)}},j=T=>{try{x(o.throw(T))}catch(P){r(P)}},x=T=>T.done?h(T.value):Promise.resolve(T.value).then(D,j);x((o=o.apply(t,n)).next())});const oe=({transaction:t})=>{const{formatMessage:n}=(0,M.Z)(),o=(0,$.s)(t.blockchain.id,t.blockchain.isTest,t.blockchain.isCustom),{trackAnalytics:h}=(0,se.z)();return o.explorer?(0,e.jsx)("div",{children:(0,e.jsx)(te.z,{onClick:()=>le(void 0,null,function*(){var r;h({event:K.pG.BLOCKCHAIN_EXPLORER,props:{pageViewResourceType:K.w_.EXTERNAL,explorerUrl:o.explorer.url}}),yield(0,ne.DL)(`${(r=o.explorer)==null?void 0:r.url}${o.explorer.txPath||"tx/"}${t.hash}`)}),children:n({id:"transaction.btn-view-on-explorer"})})}):null};var ae=s(99244),ie=s(32193),re=s(95583),de=s(51170),ce=s(13012);const he=({asset:t,transaction:n})=>{var o,h,r,D;const j=(0,$.s)(n.blockchain.id,n.blockchain.isTest,n.blockchain.isCustom),x=(0,re.C)(t),T=n.nft,P=(0,F.useMemo)(()=>Number((0,de.SN)(n,t)),[n,t]),N=j.isTest||!x?.price?null:(0,ce.Z)(P).mul((o=x.price)!=null?o:0).toNumber();return(0,e.jsxs)("div",{className:"flex flex-col items-center space-y-1",children:[(0,e.jsx)(ae.C,{name:T?(r=(h=n.nft)==null?void 0:h.name)!=null?r:"":t.name,network:j,src:T?(D=n.nft)==null?void 0:D.previewImageURL.url:t.iconUrl,size:ie.m.XLARGE}),P===0?null:(0,e.jsx)(W.l,{textType:a.Xi.HEADER,amountType:b.F.CRYPTO,value:P}),N===0?null:(0,e.jsx)(W.l,{textType:a.Xi.SUBTITLE,theme:a.W5.SECONDARY,amountType:b.F.FIAT,value:N})]})};var Z=s(89250),me=s(53242);const ue=t=>{const n=(0,me.n)();return(0,F.useMemo)(()=>n.find(o=>o.hash===t),[t,n])};var z=s(56230),xe=s(94061),k=s(44180);const ve=()=>{const{id:t}=(0,Z.UO)();if(!t)throw new Error(`Transaction id invalid "${t}" is invalid.`);const n=ue(t);if(!n)throw new Error(`Could not find transaction with id ${t}`);const{type:o}=(0,y.x)(n),h=(0,H.E)(n.blockchain.id);if(!(0,$.s)(h.id,h.isTest,h.isCustom))throw new Error(`Could not find network with chain ID "${h.id}".`);const D=(0,z.N6)(n.assetId),j=(0,z.tR)(n.assetId),x=(0,F.useMemo)(()=>D||j,[D,j]);if(!x)throw new Error(`Could not find asset with assetId: "${n.assetId}".`);(0,xe.d)({event:K.pG.TRANSACTION,props:{blockchainName:h.name,blockchainType:h.isCustom?k.F.CUSTOM:h.isTest?k.F.TEST:k.F.MAIN,blockchainChainId:h.chainId}});const{formatMessage:T}=(0,M.Z)(),P=(0,Z.s0)();return(0,e.jsxs)(L._z,{children:[(0,e.jsx)(L.mr,{backAction:()=>P(-1),title:T({id:`transaction.${o}.title`},{assetSymbol:x.symbol})}),(0,e.jsxs)(L.xV,{children:[(0,e.jsx)(he,{transaction:n,asset:x}),(0,e.jsx)(ee,{transaction:n,asset:x}),(0,e.jsx)(oe,{transaction:n})]})]})},G=()=>(0,e.jsx)(C.P,{messageFileId:"app_src_popup_modules_home_locales",children:(0,e.jsx)(ve,{})}),fe=G},65702:(B,p,s)=>{s.d(p,{J:()=>M});var e=s(85893),C=s(48303),y=s(50049),E=Object.defineProperty,v=Object.defineProperties,I=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,A=(i,d,c)=>d in i?E(i,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):i[d]=c,R=(i,d)=>{for(var c in d||(d={}))l.call(d,c)&&A(i,c,d[c]);if(O)for(var c of O(d))f.call(d,c)&&A(i,c,d[c]);return i},m=(i,d)=>v(i,I(d)),a=(i,d)=>{var c={};for(var g in i)l.call(i,g)&&d.indexOf(g)<0&&(c[g]=i[g]);if(i!=null&&O)for(var g of O(i))d.indexOf(g)<0&&f.call(i,g)&&(c[g]=i[g]);return c};const M=i=>{var d=i,{value:c,inline:g=!1}=d,L=a(d,["value","inline"]);const u=(0,e.jsx)(y.Ji,{value:c,month:"short",day:"2-digit",hourCycle:"h23",hour:"numeric",minute:"2-digit",year:"numeric"});return g?u:(0,e.jsx)(C.x,m(R({},L),{children:u}))}},44467:(B,p,s)=>{s.d(p,{E:()=>v});var e=s(67294),C=s(87326),y=s(12505),E=s(28200);function v(I){const O=(0,C.R)(),l=(0,E.O)(),f=(0,y.$)();return(0,e.useMemo)(()=>{var A,R;return(R=(A=O[I])!=null?A:l[I])!=null?R:f[I]},[I,O,l,f])}},53242:(B,p,s)=>{s.d(p,{n:()=>y});var e=s(67294),C=s(50533);const y=()=>{const E=(0,C.v9)(v=>v.tx.itemsPerWallet[v.wallet.walletId]);return(0,e.useMemo)(()=>(E.sort((v,I)=>I.createdAt-v.createdAt),E),[E])}}}]);
